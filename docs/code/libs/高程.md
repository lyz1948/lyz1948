# Javascript高级程序设计

## 基本概念

### 数据类型

#### Number() 数值转换规则

- 如果是Boolean值，true => 1; false => 0;
- 如果是数值，直接返回，不做任何处理
- 如果是null, null => 0;
- undefined => NaN;
- 如果是字符串：
  - 字符串只包含数字（正负号的情况），转换成数字，0开头的会忽略。 '123' => 123; '0456' => 456;
  - 字符串包含浮点格式，'3.3' => 3.3; '05.5' => 5.5; '-1.2' => 1.2;
  - 如果字符串包含16进制格式，带有'0xf'字符转换成对应的十进制整数;
  - 如果字符串是空，'' => 0; "" => 0;
  - 除上述情况以外，都是NaN;
- 如果是对象，则调用`valueOf()`方法，按照上面的规则转换，如果返回了NaN的话，则调用`toString()`方法，再依次按照前面的规则转换。

#### parseInt

- 空字符串 => NaN
- 字符串数字 => 忽略字符，连续的字符串数字，一旦出现非数字，则停止
- 字符串小数点 => 忽略点后面的数字
- "0"开头且后面跟的是数字 => 八进制解析
- "0x"开头且后面跟的是数字 => 十六进制

```js
let n1 = parseInt('')  // NaN
let n2 = parseInt('123abc456')  // 123
let n3 = parseInt('11.3')  // 11
let n4 = parseInt('70')  // 70(十进制)
let n5 = parseInt('070')  // 56(八进制)
let n6 = parseInt('0xf')  // 15(十六进制)
```

如果指定第二个参数的话，字符串可以不带"0x"

```js
let n1 = parseInt('ab', 16) // 171
let n2 = parseInt('10', 2) // 2
let n2 = parseInt('100', 8) // 8
```

> 如果不指定`parseInt()`的第二个参数，默认情况下以10进制转换, 为了避免错误解析，建议任何时候都指定第二个参数

#### parseFloat

`parseFloat` 与 `parseInt`一样，将字符串解析成数字，区别在于：

- 在解析浮点数时，只有第一个点有效，后面的会直接忽略
- 忽略前导零
- 没有第二个参数

```js
let n1 = parseFloat('')  // NaN
let n2 = parseFloat('123abc456')  // 123
let n3 = parseFloat('11.3')  // 11.3
let n4 = parseFloat('22.2.3')  // 22.3
let n5 = parseFloat('070.2')  // 70.2
let n6 = parseFloat('0xf')  // 0
let n7 = parseFloat('3.25e5')  // 325000
```

#### String类型

**1. 字符串字面量**
String数据类型包含一些特殊的字符串字面量，也叫转义字符

```js
\n  换行
\t  制表
\b  空格
\r  回车
\f  进纸
\\  斜杠
\'  单引号（'），在单引号表示的字符串中使用。e: 'hello \'world\''
\"  双引号（"），在双引号表示的字符串中使用。e: "hello \"world\""
\xnn 以十六进制代码nn表示一个字符
\unnnn 以十六进制代码nnnn表示一个Unicode字符
```

**2. 字符串的特点**
字符串是不可变的，一但创建，它们的值就不能在改变。

```js
var hi = 'hello' // 创建字符串'hello'
hi = hi + 'world' // 重新定义字符串'hello world'，之前的hello将被销毁掉
```

**3. 转换字符串**
把一个值转换成一个字符串的两种方式

toString()
String()