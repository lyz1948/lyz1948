
## æ³¨é‡Š

```js
// å•è¡Œæ³¨å†Œ

/*
   å¤šè¡Œæ³¨é‡Š
*/
```

## å£°æ˜

å˜é‡å£°æ˜çš„ä¸‰ç§æ–¹å¼

1. `var`
   å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¯èµ‹ä¸€ä¸ªåˆå§‹åŒ–å€¼
2. `let`
   å£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ï¼Œå¯èµ‹ä¸€ä¸ªåˆå§‹åŒ–å€¼
3. `const`
   å£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„åªè¯»çš„å‘½åå¸¸é‡

## å˜é‡

`å£°æ˜ä¸€ä¸ªå˜é‡`
ä½¿ç”¨å…³é”®å­—`var`æˆ–è€…`let`
ä¾‹å¦‚`var a = 10`
ç›´æ¥èµ‹å€¼ `a = 20` è¿™æ ·ç­‰äºå£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥`RefferenceError`å¼•ç”¨é”™è¯¯
ä½¿ç”¨`let`æ¥å£°æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œ

### å˜é‡æ±‚å€¼

```js
var a
console.log(a) // undefined

console.log(b) // undefined
var b

let x
console.log(x) // undefined

console.log(y) // RefferenceError
let y
```

### å¸¸é‡ `const`

å£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œå¯ä»¥ä½¿ç”¨es6ä¸­æ–°å¢çš„ const, å¸¸é‡æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™å’Œå˜é‡ç›¸åŒï¼šå¿…é¡»ä»¥å­—æ¯ã€ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·å¼€å¤´å¹¶å¯ä»¥åŒ…å«æœ‰å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ã€‚
å¸¸é‡ä¸å¯ä»¥é€šè¿‡èµ‹å€¼æ”¹å˜å…¶å€¼ï¼Œä¹Ÿä¸å¯ä»¥åœ¨è„šæœ¬è¿è¡Œæ—¶é‡æ–°å£°æ˜ã€‚å®ƒå¿…é¡»è¢«åˆå§‹åŒ–ä¸ºæŸä¸ªå€¼ã€‚

``` js
const num = 100
function num () {} // è¿™æ ·ä¼šæŠ¥é”™

// è¿™æ ·ä¼šæŠ¥é”™
function foo() {
  const bar = 10;
  var bar
}
```

å¸¸é‡ä¸å¯ä»¥æ”¹å˜ï¼Œç„¶è€Œï¼Œå¸¸é‡å®šä¹‰çš„å¯¹è±¡å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹çš„

```js
const NUM = 10

NUM = 20 // æŠ¥é”™

const PERSON = {
  name: 'john'
}

PERSON.name = 'ben'
```

`å˜é‡çš„ä½œç”¨åŸŸ`

```js
if (true) {
  var x = 10
}
console.log(x) // 10
```

å¦‚æœåœ¨ ECMAScript6 ä¸­çš„`let`å£°æ˜ï¼Œå°†ä¼šæŠ¥é”™

```js
if (true) {
  let x = 10
}
console.log(x) // x is not defined
```

`å˜é‡å£°æ˜æå‡`

```js
console.log(x)
var x
```

ä¸Šé¢çš„ä»£ç æ²¡æœ‰æŠ¥é”™ï¼Œåªæ˜¯å€¼æ˜¯`undefined`åŸå› æ˜¯ javascript ä¼šè‡ªåŠ¨æå‡å˜é‡çš„ä½ç½®ï¼Œåœ¨è§£æå™¨è¯»åˆ°`console.log(x)`è¿™å¥ä»£ç ä¹‹å‰ï¼Œä¼šå…ˆè¯»å–ä»£ç ä¸­çš„å˜é‡ï¼Œå¹¶èµ‹åˆå§‹å€¼ä¸º`undefined`,æ‰€ä»¥æˆ‘ä»¬å…ˆè·å–ï¼Œåå£°æ˜å¹¶ä¸ä¼šæŠ¥é”™

```js
console.log(a === undefined) // true
var a = 10

// ç­‰åŒäºä¸‹é¢çš„ä»£ç 

var a
console.log(a === undefined) // true
a = 10

var str = 'hello js'(function() {
  console.log(str) // undefined
  var str = 'javascript'
})()

// ç­‰åŒäºä¸‹é¢çš„ä»£ç 

var str = 'global value'(function() {
  var str
  console.log(str) // undefined
  str = 'local value'
})()
```

å¦‚æœæ”¹ç”¨`let`å£°æ˜å˜é‡å°†ä¸ä¼šè‡ªåŠ¨æå‡åˆ°ä»£ç å—çš„é¡¶éƒ¨

```js
console.log(x) // RefferenceError
let x = 10
```

`å‡½æ•°æå‡`
å¯¹äºå‡½æ•°ï¼Œåªæœ‰å‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œè€Œä¸åŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼

```js
// å‡½æ•°å£°æ˜
fn() // fun

function fn() {
  console.log('fun')
}

// å‡½æ•°è¡¨è¾¾å¼
foo() // TypeError: foo is not a function

var foo = function() {
  console.log('foo')
}
```

`å…¨å±€å˜é‡`

> å…¨å±€å˜é‡å®é™…ä¸Šå°±æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ï¼Œ`window`åœ¨æµè§ˆå™¨ä¸­æ˜¯å…¨å±€å¯¹è±¡ï¼Œä»¥`window.innerWidth`çš„æ–¹å¼æ¥è®¿é—®å…¨å±€å¯¹è±¡

### å˜é‡çš„å£°æ˜æ–¹å¼

1. `var`  å£°æ˜ä¸€ä¸ªå˜é‡
2. `let` å£°æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡
3. `const` å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡

```js
var value
if(value === undefined) {
  // do this
}
else {
  // do something
}
```

`undefined` å€¼åœ¨å¸ƒå°”ç±»å‹ç¯å¢ƒä¸­ä¼šè¢«å½“ä½œ false

``` js
var arr = []
if(!arr[0]) {
  console.log('hello')
}
```

`undefined` åœ¨æ•°å€¼ç±»å‹ç¯å¢ƒä¸­ å€¼ä¼šè¢«è½¬æ¢ä¸º `NaN`

``` js
var num
console.log(num + 2); // NaN
```

å½“ä½ å¯¹ä¸€ä¸ª `null` å˜é‡æ±‚å€¼æ—¶ï¼Œç©ºå€¼ `null` åœ¨æ•°å€¼ç±»å‹ç¯å¢ƒä¸­ä¼šè¢«å½“ä½œ0æ¥å¯¹å¾…ï¼Œè€Œå¸ƒå°”ç±»å‹ç¯å¢ƒä¸­ä¼šè¢«å½“ä½œ `false`

``` js
var val = null
typeof(val) // object
console.log(val * 2); // 0
console.log(val - 2); // -2
```

### å˜é‡çš„ä½œç”¨åŸŸ

> åœ¨å‡½æ•°ä¹‹å¤–å£°æ˜çš„å˜é‡ï¼Œå«åšå…¨å±€å˜é‡ã€‚åœ¨å‡½æ•°ä¹‹å†…å£°æ˜çš„å˜é‡å«å±€éƒ¨å˜é‡ï¼Œå…¶å€¼åªèƒ½åœ¨å‡½æ•°å†…è®¿é—®ã€‚

``` js
if(true) {
  var a = 10
}
console.log(a); // 10
```

å¦‚æœä½¿ç”¨ES6ä¸­çš„letå£°æ˜ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†

``` js
if(true) {
  let a = 10
}
console.log(a); // ReferenceError: a is not defined
```

### å˜é‡å£°æ˜æå‡

``` js
console.log(a === undefined) // true
var a = 10

var a
console.log(a === undefined) // true
a = 10

var myvar = 'my value';
(function() {
  console.log(myvar)
  var myvar = 'local value'
})()

var myvar = 'my value';
(function() {
  var myvar
  console.log(myvar) // undefined
  myvar = 'local value'
})()
```

è™½ç„¶å˜é‡æå‡å¹¶ä¸ä¼šé€ æˆè¯­æ³•é”™è¯¯ï¼Œä½†å°½é‡ä¸è¦è¿™æ ·å†™ï¼Œä¸åˆ©äºä»£ç é˜…è¯»ã€‚ä¸€ä¸ªå‡½æ•°çš„var
è¯­å¥å°½å¯èƒ½æ”¾åœ¨æ¥è¿‘å‡½æ•°é¡¶éƒ¨çš„åœ°æ–¹ã€‚èƒ½ä¸ä½¿ç”¨å…¨å±€å˜é‡æœ€å¥½ä¸ä½¿ç”¨å…¨å±€å˜é‡ã€‚
åœ¨ ECMAScript 2015 ä¸­ï¼Œletï¼ˆconstï¼‰å°†ä¸ä¼šæå‡å˜é‡åˆ°ä»£ç å—çš„é¡¶éƒ¨ã€‚

``` js
console.log(a) // referenceError: a is not defined
let a = 10;
```

``` js
const obj = {"name": "hello"}
obj.name = 'hello world'
```

å­—ç¬¦ä¸²ä¸æ•°å­—(+)è¿ç®—ï¼Œä¼šæŠŠæ•°å­—è½¬æˆå­—ç¬¦ä¸²

``` js
a = 'my age is' + 10;  // tmy age is 10
b = 20 + 'this is he age'; // 20 this is he age
```

å­—ç¬¦ä¸²ä¸æ•°å­—(-)è¿ç®—ï¼Œä¼šæŠŠå­—ç¬¦ä¸²è½¬æˆæ•°å­—

``` js
'20' - 10;  // 10
```

## æ•°æ®ç±»å‹

javascript ä¸­ 7 ä¸­æ•°æ®ç±»å‹

- Boolean å¸ƒå°”å€¼ï¼Œ `true` å’Œ `false`

- null å€¼ä¸º null çš„ç‰¹æ®Šå…³é”®å­—

- undefined å˜é‡æœªå®šä¹‰æ—¶çš„å±æ€§

- String å­—ç¬¦ä¸² e.g: "abc"

- Number æ•°å­— e.g: 18 or 3.4

- Symbol ES6 ä¸­æ–°å¢ç±»å‹ï¼Œä¸€ä¸ªå”¯ä¸€ä¸”ä¸å¯æ”¹å˜çš„

- Object å¯¹è±¡

``` js
typeof undefined === 'undefined'
typeof true === 'boolean'
typeof 28 === 'number'
typeof '28' === 'string'
typeof {value: 28} === 'object'
typeof Symbol === 'symbol'
```

ä¸Šé¢çš„åˆ¤æ–­å¾—åˆ°çš„ç»“æœéƒ½æ˜¯true

``` js
typeof null === 'object' // true
```

null ä¹Ÿæ˜¯å¯¹è±¡

``` js
var a = null
(!a && typeof a === 'object') // true

typeof [1,2,3] === 'object' // true
```

ç”¨typeofæ¥åˆ¤æ–­nullå’Œ array æ˜¯å¦æ˜¯objectå¯¹è±¡ç±»å‹ï¼Œè·å¾—çš„å€¼éƒ½æ˜¯trueå¯¹è±¡

``` js
function foo(a, b, c) {}

foo.length // 3
```

å‡½æ•°ä¹Ÿæœ‰lengthï¼Œå‡½æ•°çš„é•¿åº¦å–å†³äºä¼ å…¥çš„å‚æ•°ä¸ªæ•°

``` js
var a = 10
typeof a // "number"

a = true
typeof a // "boolean"
```

typeof æ“ä½œç¬¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ€»æ˜¯è¿”å› stringç±»å‹

``` js
typeof typeof 10 // "string"
```

typeof 10 å¾—åˆ°çš„ç»“æœæ˜¯ "number", å½“åœ¨typeof "number"çš„æ—¶å€™å°±æ˜¯"string"

**undefined**
é€šè¿‡typeof æ¥åˆ¤æ–­ä¸€ä¸ªå·²ç»å£°æ˜ï¼Œä½†æœªèµ‹å€¼çš„å¯¹è±¡ï¼Œå¾—åˆ°çš„éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„undefined

``` js
var a

typeof a // "undefined"

var b = 20
var c

b = c

typeof b // "undefined"
typeof c // "undefined"

var a

a // undefined

b // ReferenceError: b is not defined
```

undefined å’Œ is not defined æ˜¯2ä¸ªä¸åŒçš„ç»“æœ

``` js
var a

typeof a  // "undefined"
typeof b  // "undefined"
```

ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡typeofæ¥åˆ¤æ–­bçš„æ—¶å€™ï¼Œå¾—åˆ°çš„ç»“æœå´æ˜¯å’Œå®šä¹‰äº†varçš„a æ˜¯ä¸€æ ·çš„è¾“å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªåˆå­¦è€…å¾ˆè›‹ç–¼çš„äº‹æƒ…

``` js
// è¿™æ ·å†™ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯
if(DEBUG) {
  console.log('è¿™æ ·ä¼šæŠ¥é”™');
}

// è¿™æ ·åˆ¤æ–­ä¼šæ›´å®‰å…¨
if(typeof DEBUG !== 'undefined') {
  console.log('è¿™æ ·æ¥åˆ¤æ–­ä¼šæ˜¯æ›´å®‰å…¨çš„åšæ³•');
}
```

å½“æˆ‘ä»¬ç”¨ä¸€äº›æ¡ä»¶æ¥åˆ¤æ–­çš„æ—¶å€™ï¼Œç”¨typeofçš„æ–¹å¼æ¥å†™ï¼Œä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ²¡æœ‰å®šä¹‰ï¼Œè·å–è¯¥åå­—äº†ï¼Œè¿™ä¸ªæ—¶å€™ç¨‹åºå°±ä¼šå‡ºé”™ï¼Œå‡ºé”™ä¼šå½±å“åé¢çš„ä»£ç æ‰§è¡Œ

``` js
if(typeof abc === 'undefined') {
  abc = function() {
    return "abc"
  }
}
```

è¿™æ ·çš„åˆ¤æ–­æ˜¯æœ‰å¿…è¦çš„ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸å­˜åœ¨ï¼Œåˆ™é‡æ–°èµ‹å€¼ï¼Œä½†ä¸éœ€è¦ç”¨var æ¥å£°æ˜

``` js
if(window.DEBUG) {}

if(!window.abc) {}
```

å¦å¤–çš„ä¸€ç§åšæ³•ï¼Œç”¨typeofæ¥æ£€æŸ¥å…¨å±€å˜é‡ï¼Œåœ¨å¯¹è±¡çš„å‰é¢åŠ ä¸Šwindow,è¿™æ ·æ¥åˆ¤æ–­ä¼šæ›´å®‰å…¨

``` js
function doSth() {
  var helper = (typeof abc !== 'undefined') ? abc : function() {}

  var val = helper()
}

// æ›´ç®€å•çš„å†™æ³•
function doSomethingCool(abc) {
  var helper = abc ||
    function() { /*.. default feature ..*/ };

  var val = helper();
  // ..
}
```

doSth å‡½æ•°å¦‚æœæ²¡æœ‰æ‰¾åˆ° abc å°±å£°æ˜ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¦‚æœæœ‰ï¼Œå°±ä½¿ç”¨å·²ç»å®šä¹‰çš„

## ç±»å‹è½¬æ¢

```js
var desc = 11

desc = 'This is a description'
```

ä¸€å¼€å§‹æŠŠ 11 èµ‹å€¼ç»™ `desc` æ­¤æ—¶æ˜¯ Number ç±»å‹
ç„¶åï¼Œæˆ‘ä»¬åœ¨æŠŠå­—ç¬¦ä¸²èµ‹å€¼ç»™`desc` è¿™æ˜¯å®Œå…¨æ­£å¸¸çš„ï¼Œå› ä¸º javascript ä¸­ç±»å‹çš„åŠ¨æ€çš„

```js
x = 'my age is ' + 18
y = 18 + ' years old this year'

'18' - 8 // 10
'18' + 10 // '1810'
```

## å­—é¢é‡

- æ•°ç»„å­—é¢é‡
- å¸ƒå°”å­—é¢é‡
- æµ®ç‚¹æ•°å­—é¢é‡
- æ•´æ•°
- å¯¹è±¡å­—é¢é‡
- å­—ç¬¦ä¸²å­—é¢é‡
- æ­£åˆ™

### æ•°ç»„å­—é¢é‡

```js
var fruit = ['apple', 'banane', 'pear']
var arr = [3]

console.log(a.length) // 1
console.log(a[0]) // 3
```

æ•°ç»„å­—é¢å€¼ä¸­çš„å¤šä½™é€—å·,ä¹Ÿä¼šå ä¸€ä¸ªä½ç½®ï¼Œåªæ˜¯å€¼ä¸º`undefined`

```js
var fish = ['lion', , 'Angel']
console.log(fish.length) // 3
console.log(a[1]) // 'undefined'
```

### å¸ƒå°”å­—é¢é‡

å¸ƒå°”ç±»å‹æœ‰ä¸¤ç§å­—é¢é‡ï¼š`true`å’Œ`false`

### æ•´æ•°å­—é¢é‡

- åè¿›åˆ¶æ•´æ•°å­—é¢é‡ç”±ä¸€ä¸²æ•°å­—åºåˆ—ç»„æˆï¼Œä¸”æ²¡æœ‰å‰ç¼€ 0
- å…«è¿›åˆ¶çš„æ•´æ•°ä»¥ 0ï¼ˆæˆ– 0Oã€0oï¼‰å¼€å¤´ï¼Œåªèƒ½åŒ…æ‹¬æ•°å­— 0-7
- åå…­è¿›åˆ¶æ•´æ•°ä»¥ 0xï¼ˆæˆ– 0Xï¼‰å¼€å¤´ï¼Œå¯ä»¥åŒ…å«æ•°å­—ï¼ˆ0-9ï¼‰å’Œå­—æ¯ a~f æˆ– A~F
- äºŒè¿›åˆ¶æ•´æ•°ä»¥ 0bï¼ˆæˆ– 0Bï¼‰å¼€å¤´ï¼Œåªèƒ½åŒ…å«æ•°å­— 0 å’Œ 1

### æµ®ç‚¹æ•°å­—é¢é‡

æµ®ç‚¹æ•°å­—é¢å€¼å¯ä»¥æœ‰ä»¥ä¸‹çš„ç»„æˆéƒ¨åˆ†ï¼š

- ä¸€ä¸ªåè¿›åˆ¶æ•´æ•°ï¼Œå¯ä»¥å¸¦æ­£è´Ÿå·ï¼ˆå³å‰ç¼€â€œ+â€æˆ–â€œ - â€ï¼‰
- å°æ•°ç‚¹ï¼ˆâ€œ.â€ï¼‰
- å°æ•°éƒ¨åˆ†ï¼ˆç”±ä¸€ä¸²åè¿›åˆ¶æ•°è¡¨ç¤ºï¼‰
- æŒ‡æ•°éƒ¨åˆ†

æŒ‡æ•°éƒ¨åˆ†ä»¥â€œeâ€æˆ–â€œEâ€å¼€å¤´ï¼Œåé¢è·Ÿç€ä¸€ä¸ªæ•´æ•°ï¼Œå¯ä»¥æœ‰æ­£è´Ÿå·ï¼ˆå³å‰ç¼€â€œ+â€æˆ–â€œ-â€ï¼‰ã€‚æµ®ç‚¹æ•°å­—é¢é‡è‡³å°‘æœ‰ä¸€ä½æ•°å­—ï¼Œè€Œä¸”å¿…é¡»å¸¦å°æ•°ç‚¹æˆ–è€…â€œeâ€ï¼ˆå¤§å†™â€œEâ€ä¹Ÿå¯ï¼‰ã€‚

æ­£åˆ™è¯­æ³•è¡¨ç¤ºå¦‚ä¸‹ï¼š

```js
[(+|-)][digits][.digits][(E|e)[(+|-)]digits]
```

### å¯¹è±¡å­—é¢é‡

```js
var fruit = {
  '': 'key ä¸ºç©º',
  '!': 'key ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç¬¦åˆ',
  apple: 10,
  banana: 20,
  orange: {
    num: 5,
    city: 'æ–°è¥¿å…°'
  }
}
```

è®¿é—®å¯¹è±¡å­—é¢é‡ï¼Œé€šè¿‡`å¯¹è±¡.å±æ€§`åæ¥è®¿é—®

```js
console.log(fruit.apple)
console.log(fruit['apple'])
console.log(fruit.orange.num)
```

### RegExp å­—é¢å€¼

```js
var reg = /^\w+{2, 6}/
```

`å­—ç¬¦ä¸²å­—é¢é‡`

```js
'abc'
'123'
'hello'
```

## è¯­å¥å—

```js
{
  è¯­å¥1;
  è¯­å¥2;
  è¯­å¥N;
}

while(true) {
  console.log('go')
}
```

### æ¡ä»¶åˆ¤æ–­

- `if...else`

```js
if (æ¡ä»¶) {
  å½“æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œæ‰§è¡Œè¯­å¥1;
  å½“æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œæ‰§è¡Œè¯­å¥2;
} else {
  å½“æ¡ä»¶ä¸ºå‡çš„æ—¶å€™ï¼Œæ‰§è¡Œè¯­å¥3;
  å½“æ¡ä»¶ä¸ºå‡çš„æ—¶å€™ï¼Œæ‰§è¡Œè¯­å¥4;
}
```

- `switch`

```js
var date = 'æ˜ŸæœŸ1'
switch(date) {
  case "æ˜ŸæœŸ1":
    console.log('åƒé¢')
  [break;]
  case "æ˜ŸæœŸ2":
    console.log('åƒé¢')
  [break;]
  case "æ˜ŸæœŸ3":
    console.log('åƒé¢')
  [break;]
  default:
    console.log('è¿˜åƒé¢')
    [break;]
}
```

### å¾ªç¯

**`for`**

```js
var step
for (step = 0; step < 2; step++) {
  // æ‰§è¡Œ3æ¬¡
  console.log(step)
}
```

**`do while`**

```js
var i = 0
do {
  i += 1
  console.log(i)
} while (i < 5)
```

**`while`**

```js
while (i < 5) {
  console.log(i)
}
```

**`break` è¯­å¥**

```js
for (var i = 0; i < 5; i++) {
  if (i == 3) {
    console.log('è·³å‡ºforå¾ªç¯')
    break
  }
  console.log(i)
}
```

**`continue` è¯­å¥**

```js
for (var i = 0; i < 5; i++) {
  if (i == 3) {
    continue
    console.log('è·³è¿‡ï¼Œä½†ä¼šç»§ç»­æ‰§è¡Œforå¾ªç¯', i)
  }
  console.log(i)
}

checkiandj: while (i < 4) {
  console.log(i)
  i += 1
  checkj: while (j > 4) {
    console.log(j)
    j -= 1
    if (j % 2 == 0) {
      continue checkj
    }
    console.log(j + ' is odd.')
  }
  console.log('i = ' + i)
  console.log('j = ' + j)
}
```

**`label`è¯­å¥**

```js
var x = 0;
var z = 0
labelCancelLoops: while (true) {
  console.log("å¤–éƒ¨å¾ªç¯: " + x);
  x += 1;
  z = 1;
  while (true) {
    console.log("å†…éƒ¨å¾ªç¯: " + z);
    z += 1;
    if (z === 10 && x === 10) {
      break labelCancelLoops;
    } else if (z === 10) {
      break;
    }
  }
```

**`for in`è¯­å¥**

```js
var obj = { name: 'zhangchang', age: 20 }

for (var i in obj) {
  console.log('obj.' + i + '=' + obj[i])
}
```

`for of` è¯­å¥
`for in` éå†çš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡
`for of` éå†çš„æ˜¯æ•°ç»„çš„æ¯ä¸ªå…ƒç´ 

```js
var arr = ['apple', 'banana', 'cherry', 'mango']

for (var j in arr) {
  console.log(j) // 0 1 2 3
}

for (var i of arr) {
  console.log(i) // 'apple', 'banana', 'cherry', 'mango'
}
```

**å¼‚å¸¸å¤„ç†**
`throw`è¯­å¥

```js
throw new Error()
throw 'error'
throw 123
throw false
throw {
  toString: function() {
    return 'A Object!'
  }
}

function UserException(message) {
  this.message = message
  this.name = 'UserException'
}

UserException.prototype.toString = function() {
  return this.name + ':"' + this.message + '"'
}

throw new UserException('value to high')
```

`try...catch` è¯­å¥

`catch`å—æ˜¯ç”¨æ¥å¤„ç†åœ¨`try`ä¸­æŠ›å‡ºçš„é”™è¯¯

```js
try {
  throw 'error'
} catch (e) {
  console.log(e)
}
```

`finally`å—

`finally`å—æ¥ç€åœ¨`try catch` ä¹‹åï¼Œæ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œå°±ç®—æ²¡æœ‰å¼‚å¸¸å¤„ç†ï¼Œ`finally`å—éƒ½ä¼šæ‰§è¡Œ

```js
openMyFile()

try {
  writeMyFile(theData) //This may throw a error
} catch (e) {
  handleError(e) // If we got a error we handle it
} finally {
  closeMyFile() // always close the resource
}
```

## å‡½æ•°

### å‡½æ•°å£°æ˜

```js
function square(n) {
  return n * n
}
```

### å‡½æ•°è¡¨è¾¾å¼

**åŒ¿åå‡½æ•°è¡¨è¾¾å¼**

```js
var square = function(n) {
  return n * n
}
```

**æœ‰åå­—çš„å‡½æ•°è¡¨è¾¾å¼**

```js
var factorial = function fac(n) {
  return n < 2 ? 1 : n * fac(n - 1)
}
```

### å‡½æ•°ä¼ å‚

```js
function map(f, a) {
  var result = [],
    i
  for (i = 0; i != a.length; i++) result[i] = f(a[i])
  return result
}
```

### å‡½æ•°è°ƒç”¨

```js
square(2) // 4
var r = square(2)
console.log(r) // 4
```

### å‡½æ•°ä½œç”¨åŸŸ

```js
var name = 'global'

function globalFun() {
  console.log(name)
}

function localFun() {
  var name = 'local'
  console.log(name)
}

globalFun() // 'global'
localFun() // 'local'

var num1 = 10
var num2 = 20
function multiply() {
  return num1 * num2
}

multiply() // 200

function getScore() {
  var num1 = 2
  var num2 = 3

  function add() {
    return num1 + num2
  }

  return add()
}

getScore() // 5
```

### é€’å½’

é€’å½’ï¼Œå‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œæœ‰ 3 ç§æ–¹æ³•å¯ä»¥å®ç°é€’å½’

1. å‡½æ•°å
2. argument.callee
3. ä½œç”¨åŸŸä¸‹çš„ä¸€ä¸ªæŒ‡å‘è¯¥å‡½æ•°åçš„å˜é‡å

```js
var foo = function bar() {}
```

åœ¨è¿™ä¸ªå‡½æ•°ä½“å†…ï¼Œä»¥ä¸‹è¯­å¥æ˜¯ç­‰ä»·çš„

```js
bar()
arguments.callee()
foo()
```

::: tip
é€’å½’éœ€è¦æœ‰ä¸€ä¸ªé€€å‡ºæ¡ä»¶ï¼Œç±»ä¼¼å¾ªç¯
:::

```js
function walktree(node) {
  if (node == null) {
    return
  }
  for (var i = 0; i < node.childNodes.length; i++) {
    walktree(node.childNodes[i])
  }
}

function bar(x) {
  if (x < 0) {
    return
  }

  console.log('begin' + x)
  bar(x - 1)
  console.log('end: ' + x)
}

bar(3)
// begin:3
// begin:2
// begin:1
// begin:0
// end:0
// end:1
// end:2
// end:3
```

### åµŒå¥—å‡½æ•°å’Œé—­åŒ…

å†…éƒ¨å‡½æ•°åªå¯ä»¥åœ¨å¤–éƒ¨å‡½æ•°ä¸­è®¿é—®ã€‚
å†…éƒ¨å‡½æ•°å½¢æˆäº†ä¸€ä¸ªé—­åŒ…ï¼šå®ƒå¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å‚æ•°å’Œå˜é‡ï¼Œä½†æ˜¯å¤–éƒ¨å‡½æ•°å´ä¸èƒ½ä½¿ç”¨å®ƒçš„å‚æ•°å’Œå˜é‡ã€‚

```js
function addSquare(x) {
  function inside(y) {
    return x + y
  }
  return inside()
}
```

**å¤šå±‚åµŒå¥—å‡½æ•°**
å‡½æ•°å¯ä»¥å¤šå±‚åµŒå¥—ï¼Œå¤–å±‚å‡½æ•°åŒ…å«å†…å±‚å‡½æ•°,A åŒ…å« Bï¼Œå†…å±‚å‡½æ•°å¯ä»¥è®¿é—®å¤–å±‚å‡½æ•°ï¼ŒB å¯ä»¥è®¿é—® A, C å¯ä»¥è®¿é—® B å’Œ Aï¼Œå› ä¸º C åŒ…å« B,B åŒ…å« Aï¼ŒB å’Œ C å½¢æˆäº†é—­åŒ…ã€‚

```js
function A(x) {
  function B(y) {
    function C(z) {
      console.log(x + b + c)
    }
    C(3)
  }
  B(2)
}
A(1) // 6
```

### å‘½åå†²çª

```js
function outside() {
  var a = 10
  function inside(a) {
    return a * 2
  }
  return inside
}

var out = outside() // return inside
out(20) // 40
```

### é—­åŒ…

```js
var pet = function(name) {
  var getName = function() {
    return name
  }

  return getName
}

var myPet = pet('poli')
myPet() // 'poli'
```

```js
var createPet = function(name) {
  var sex

  return {
    setName: function(newName) {
      name = newName
    },
    getName: function() {
      return name
    },
    setSex: function(newSex) {
      if (
        (typeof newSex === 'string' && newSex.toLowerCase() == 'male') ||
        newSex.toLowerCase() == 'female'
      ) {
        sex = newSex
      }
    },
    getSex() {
      return sex
    }
  }
}

var pet = createPet('wancai')
pet.getName()
pet.setSex('female')
pet.setName('gougou')
pet.getName()
pet.getSex()
```

### `arguments` å¯¹è±¡

å‡½æ•°çš„å®é™…å‚æ•°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„ arguments å¯¹è±¡ä¸­ã€‚åœ¨å‡½æ•°å†…ï¼Œç”¨`arguments[ä¸‹æ ‡]`çš„æ–¹å¼æ¥è·å–ï¼Œåœ¨ä¸ç¡®å®šå‚æ•°æ•°é‡çš„æƒ…å†µä¸‹ï¼Œ`arguments`å°±æ´¾ä¸Šç”¨åœºäº†

```js
arguments[i]
```

```js
function myConcat(separatar) {
  var res = ''
  for (var i = 0; i < arguments.length; i++) {
    res += arguments[i] + separatar
  }
  return res
}
myConcat('-', 'red', 'blue', 'green', 'yellow', 'pink')
```

::: tip
`arguments`å˜é‡åªæ˜¯ç±»æ•°ç»„ï¼Œå¹¶æ²¡æœ‰æ•°ç»„çš„æ–¹æ³•
:::

### å‡½æ•°å‚æ•°

`é»˜è®¤å‚æ•°`
å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼æ˜¯`undefined`

```js
function multiply(x, y) {
  y = typeof y !== 'undefined' ? y : 1
  return x * y
}
multiply(10) // 10
```

ä» ECMAScript 6 å¼€å§‹ï¼Œæœ‰ä¸¤ä¸ªæ–°çš„ç±»å‹çš„å‚æ•°ï¼šé»˜è®¤å‚æ•°ï¼Œå‰©ä½™å‚æ•°

```js
function multiply(x, y = 1) {
  return a * y
}
```

å¦‚æœç»™é»˜è®¤å‚æ•°ä¼ é€’ä¸‹é¢çš„å€¼ï¼Œä¼šå¾—åˆ°ä¸åŒæ•ˆæœ

```js
function test(n = 1) {
  console.log(typeof n)
}

test() // 'number'
test(undefined) // 'number'

test('') // 'string'
test(null) // 'object'
```

ä¸ä¼ å‚æ•°çš„æ—¶å€™é»˜è®¤æ˜¯ 1ï¼Œè¿™ä¸ªå·²ç»éå¸¸æ˜ç¡®äº†ã€‚ ä¼ å…¥`undefined`çš„æ—¶å€™è¿˜æ˜¯ 1ï¼Œå› ä¸ºå‡½æ•°çš„é»˜è®¤å‚æ•°å°±æ˜¯`undefined`æ‰€ä»¥ä¼ é€’`undefined`ç­‰åŒäº`test()`
å½“ä¼ å…¥ç©ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæ­¤æ—¶å‚æ•°ä¸º`string`ç±»å‹ï¼Œ `null`æ˜¯æ²¡æœ‰ä¸œè¥¿ï¼Œä½†æ˜¯`null`æ˜¯`object`ç±»å‹ï¼Œæ‰€ä»¥å‚æ•°çš„ç»“æœä¹Ÿå°±å˜äº†

```js
function append(value, array = []) {
  array.push(value)
  return array
}

append(1) // [1]
append(2) // [2] å¹¶é[1, 2]
```

æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªé»˜è®¤å‚æ•°

```js
function callSomething(thing = something()) {
  return thing
}

function something() {
  return 'sth'
}

callSomething() // 'sth'
```

### å‰©ä½™å‚æ•°

å‰©ä½™å‚æ•°è¯­æ³•å…è®¸å°†ä¸ç¡®å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºæ•°ç»„, ç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„å…¶ä»–å‚æ•°ï¼Œæˆ‘ä»¬ä¸ç¡®å®šæœ‰å¤šå°‘ä¸ªçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‰©ä½™å‚æ•°æ¥

```js
function multiply(multiplier, ...theArgs) {
  return theArgs.map(it => {
    multiplier * it
  })
}
multiply(3, 1, 2, 3) // 3, 6, 9
```

**ç®­å¤´å‡½æ•°**
ç®­å¤´å‡½æ•°æ›´ç®€æ´ï¼ŒåŒæ—¶ï¼Œå‡½æ•°å†…çš„ this æŒ‡å‘å‡½æ•°æœ¬èº«

```js
function Person() {
  this.age = 0

  // éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå®šæ—¶å™¨å‡½æ•°å†…çš„thiså¹¶ä¸æŒ‡å‘Personå‡½æ•°
  setTimeout(function() {
    this.age++
  }, 1000)
}

function Person() {
  // ä¿®æ­£thisæŒ‡å‘
  var self = this
  this.age = 0

  setTimeout(function() {
    slef.age++
  })
}
```

ä½¿ç”¨ç®­å¤´å‡½æ•°å°±ä¸å­˜åœ¨ this æŒ‡å‘é”™è¯¯é—®é¢˜

```js
function Person() {
  this.age = 0

  setTimeout(() => {
    this.age++
  })
}
```

## é¢„å®šä¹‰å‡½æ•°

**`eval()`**

- `eval()`æ–¹æ³•ä¼šå¯¹ä¸€ä¸²å­—ç¬¦ä¸²å½¢å¼çš„ JavaScript ä»£ç å­—ç¬¦æ±‚å€¼

**`isFinite()`**
`isFinite()`å‡½æ•°åˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯æœ‰é™çš„æ•°å€¼ã€‚ å¦‚æœéœ€è¦çš„è¯ï¼Œå…¶å‚æ•°é¦–å…ˆè¢«è½¬æ¢ä¸ºä¸€ä¸ªæ•°å€¼

**`isNaN()`**
`isNaN()` å‡½æ•°åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯`NaN`
æ³¨æ„ï¼š`isNaN`å‡½æ•°å†…éƒ¨çš„å¼ºåˆ¶è½¬æ¢è§„åˆ™ååˆ†æœ‰è¶£ï¼› å¦ä¸€ä¸ªå¯ä¾›é€‰æ‹©çš„æ˜¯ ECMAScript 6 ä¸­å®šä¹‰ Number.isNaN() , æˆ–è€…ä½¿ç”¨ typeof æ¥åˆ¤æ–­æ•°å€¼ç±»å‹ã€‚

**`parseFloat()`**
`parseFloat()` å‡½æ•°è§£æå­—ç¬¦ä¸²å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚

**`parseInt()`**
`parseInt()` å‡½æ•°è§£æå­—ç¬¦ä¸²å‚æ•°ï¼Œå¹¶è¿”å›æŒ‡å®šçš„åŸºæ•°ï¼ˆåŸºç¡€æ•°å­¦ä¸­çš„æ•°åˆ¶ï¼‰çš„æ•´æ•°ã€‚

**`decodeURI()`**
`decodeURI()` å‡½æ•°å¯¹å…ˆå‰ç»è¿‡ encodeURI å‡½æ•°æˆ–è€…å…¶ä»–ç±»ä¼¼æ–¹æ³•ç¼–ç è¿‡çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç ã€‚

**`ecodeURIComponent()`**
`decodeURIComponent()`æ–¹æ³•å¯¹å…ˆå‰ç»è¿‡ encodeURIComponent å‡½æ•°æˆ–è€…å…¶ä»–ç±»ä¼¼æ–¹æ³•ç¼–ç è¿‡çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç ã€‚

**`encodeURI()`**
`encodeURI()` æ–¹æ³•é€šè¿‡ç”¨ä»¥ä¸€ä¸ªï¼Œä¸¤ä¸ªï¼Œä¸‰ä¸ªæˆ–å››ä¸ªè½¬ä¹‰åºåˆ—è¡¨ç¤ºå­—ç¬¦çš„ UTF-8 ç¼–ç æ›¿æ¢ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰çš„æŸäº›å­—ç¬¦æ¥è¿›è¡Œç¼–ç ï¼ˆæ¯ä¸ªå­—ç¬¦å¯¹åº”å››ä¸ªè½¬ä¹‰åºåˆ—ï¼Œè¿™å››ä¸ªåºåˆ—ç»„äº†ä¸¤ä¸ªâ€æ›¿ä»£â€œå­—ç¬¦ï¼‰ã€‚

**`encodeURIComponent()`**
`encodeURIComponent()` æ–¹æ³•é€šè¿‡ç”¨ä»¥ä¸€ä¸ªï¼Œä¸¤ä¸ªï¼Œä¸‰ä¸ªæˆ–å››ä¸ªè½¬ä¹‰åºåˆ—è¡¨ç¤ºå­—ç¬¦çš„ UTF-8 ç¼–ç æ›¿æ¢ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰çš„æ¯ä¸ªå­—ç¬¦æ¥è¿›è¡Œç¼–ç ï¼ˆæ¯ä¸ªå­—ç¬¦å¯¹åº”å››ä¸ªè½¬ä¹‰åºåˆ—ï¼Œè¿™å››ä¸ªåºåˆ—ç»„äº†ä¸¤ä¸ªâ€æ›¿ä»£â€œå­—ç¬¦ï¼‰ã€‚

## è¿ç®—ç¬¦

**èµ‹å€¼è¿ç®—ç¬¦**
èµ‹å€¼

```js
x = y // x = y
```

åŠ æ³•èµ‹å€¼

```js
x += y // x = x + y
```

å‡æ³•èµ‹å€¼

```js
x -= y // x = x - y
```

ä¹˜æ³•èµ‹å€¼

```js
x *= y // x = x * y
```

é™¤æ³•èµ‹å€¼

```js
x /= y // x = x / y
```

æ±‚ä½™èµ‹å€¼

```js
x %= y // x = x % y
```

æ±‚å¹‚èµ‹å€¼

```js
x **= y // x = x ** y
```

å·¦ç§»ä½èµ‹å€¼

```js
x <<= y // x = x << y
```

å³ç§»ä½èµ‹å€¼

```js
x >>= y // x = x >> y
```

æ— ç¬¦å·å³ç§»ä½èµ‹å€¼

```js
x >>>= y // x = x >>> y
```

æŒ‰ä½ä¸èµ‹å€¼

```js
x &= y // x = x & y
```

å®‰ä½å¼‚æˆ–èµ‹å€¼

```js
x ^= y // x = x ^ y
```

æŒ‰ä½æˆ–èµ‹å€¼

```js
x |= y // x = x | y
```

æ¯”è¾ƒè¿ç®—ç¬¦

```js
var val1 = 1
var val2 = 2

ç­‰äº ==
val1 == 1
val1 == '1'

ä¸ç­‰äº `!=`
val1 != '2')

å…¨ç­‰ ===
val1 === 1  // true
var1 === '1' // false

å…¨ä¸ç­‰ !==
val2 !== val1

å¤§äº
val1 > val2  // false

å¤§äºç­‰äº
val1 >= 1 // true

å°äº
val1 < val2 // true

å°äºç­‰äº
val1 <= val2  // false
```

ç®—æ•°è¿ç®—ç¬¦

```js
10 / 4 = 2.5
```

- æ±‚ä½™%
  äºŒå…ƒè¿ç®—ç¬¦. è¿”å›ç›¸é™¤ä¹‹åçš„ä½™æ•°

```js
14 % 3 = 2
```

- è‡ªå¢++
  ä¸€å…ƒè¿ç®—ç¬¦. å°†æ“ä½œæ•°çš„å€¼åŠ ä¸€. å¦‚æœæ”¾åœ¨æ“ä½œæ•°å‰é¢ (++x), åˆ™è¿”å›åŠ ä¸€åçš„å€¼; å¦‚æœæ”¾åœ¨æ“ä½œæ•°åé¢ (x++), åˆ™è¿”å›æ“ä½œæ•°åŸå€¼,ç„¶åå†å°†æ“ä½œæ•°åŠ ä¸€.

```js
var a = 3
++a // 4
```

- è‡ªå‡--
  ä¸€å…ƒè¿ç®—ç¬¦. å°†æ“ä½œæ•°çš„å€¼å‡ä¸€. å‰åç¼€ä¸¤ç§ç”¨æ³•çš„è¿”å›å€¼ç±»ä¼¼è‡ªå¢è¿ç®—ç¬¦.

```js
var b = 10
--b // 9
```

- ä¸€å…ƒè´Ÿå€¼ç¬¦(-)
  ä¸€å…ƒè¿ç®—ç¬¦,è¿”å›æ“ä½œæ•°çš„è´Ÿå€¼

```js
var a = 8
console.log(-a) // -8
```

- ä¸€å…ƒæ­£å€¼ç¬¦(+)
  ä¸€å…ƒè¿ç®—ç¬¦, å¦‚æœæ“ä½œæ•°åœ¨ä¹‹å‰ä¸æ˜¯ numberï¼Œè¯•å›¾å°†å…¶è½¬æ¢ä¸º number

```js
console.log(+'7') // 7
```

ä½è¿ç®—ç¬¦

- æŒ‰ä½ä¸ AND `&`
  åœ¨ a,b çš„ä½è¡¨ç¤ºä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹åº”çš„ä½éƒ½ä¸º 1 åˆ™è¿”å› 1ï¼Œ å¦åˆ™è¿”å› 0

```js
a & b
15 & 9 // 9 => 1111 & 1001 => 1001 = 9
```

- æŒ‰ä½æˆ– OR `|`
  åœ¨ a,b çš„ä½è¡¨ç¤ºä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹åº”çš„ä½ï¼Œåªè¦æœ‰ä¸€ä¸ªä¸º 1 åˆ™è¿”å› 1ï¼Œ å¦åˆ™è¿”å› 0

```js
a | b
15 | 9 // 15 => 1111 | 1001 => 1111 = 15
```

- æŒ‰ä½å¼‚æˆ– XOR `^`
  åœ¨ a,b çš„ä½è¡¨ç¤ºä¸­ï¼Œæ¯ä¸€ä¸ªå¯¹åº”çš„ä½ï¼Œä¸¤ä¸ªä¸ç›¸åŒåˆ™è¿”å› 1ï¼Œç›¸åŒåˆ™è¿”å› 0

```js
a ^ b
15 ^ 9 // 6 => 1111 ^ 1001 => 0110 = 6
```

- æŒ‰ä½é NOT `~`
  åè½¬è¢«æ“ä½œæ•°çš„ä½

```js
~a
~15 // -16 => ~00000000...00001111 = 11111111...11110000
~9 // -10 => ~00000000...00001001 = 11111111...11110110
```

- å·¦ç§» shift `&`
  å°† a çš„äºŒè¿›åˆ¶ä¸²å‘å·¦ç§»åŠ¨ b ä½,å³è¾¹ç§»å…¥ 0

```js
a << b
```

- ç®—æœ¯å³ç§»
  æŠŠ a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§»åŠ¨ b ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„æ‰€æœ‰ä½(è¯‘æ³¨:ç®—æœ¯å³ç§»å·¦è¾¹ç©ºå‡ºçš„ä½æ˜¯æ ¹æ®æœ€é«˜ä½æ˜¯ 0 å’Œ 1 æ¥è¿›è¡Œå¡«å……çš„)

```js
a >> b
```

- æ— ç¬¦å·å³ç§»
  æŠŠ a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§»åŠ¨ b ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„æ‰€æœ‰ä½ï¼Œå¹¶æŠŠå·¦è¾¹ç©ºå‡ºçš„ä½éƒ½å¡«å……ä¸º 0

```js
a >>> b
```

- é€»è¾‘è¿ç®—ç¬¦
  `&&`é€»è¾‘ä¸
  å¦‚æœ expr1 èƒ½è¢«è½¬æ¢ä¸º falseï¼Œé‚£ä¹ˆè¿”å› expr1ï¼›å¦åˆ™ï¼Œè¿”å› expr2ã€‚å› æ­¤ï¼Œ&&ç”¨äºå¸ƒå°”å€¼æ—¶ï¼Œå½“æ“ä½œæ•°éƒ½ä¸º true æ—¶è¿”å› trueï¼›å¦åˆ™è¿”å› false.

```js
expr1 && expr2
```

```js
var a1 = true && true // true
var a2 = true && false // false
var a3 = false && true // false
var a4 = false && 1 == 3 // false
var a5 = 'Cat' && 'Dog' // 'Dog'
var a6 = false && 'abc' // false
var a7 = 'abc' && false // 'abc'
```

`||`é€»è¾‘æˆ–
å¦‚æœ expr1 èƒ½è¢«è½¬æ¢ä¸º trueï¼Œé‚£ä¹ˆè¿”å› expr1ï¼›å¦åˆ™ï¼Œè¿”å› expr2ã€‚å› æ­¤ï¼Œ||ç”¨äºå¸ƒå°”å€¼æ—¶ï¼Œå½“ä»»ä½•ä¸€ä¸ªæ“ä½œæ•°ä¸º true åˆ™è¿”å› trueï¼›å¦‚æœæ“ä½œæ•°éƒ½æ˜¯ false åˆ™è¿”å› false

```js
expr1 || expr2
```

```js
var o1 = true || true // true
var o2 = true || false // true
var o3 = false || true // true
var o4 = false || 1 == 3 // false
var o5 = false || 'abc' // 'abc'
var o6 = 'abc' || 'xyz' // 'abc'
var o7 = 'xyz' || false // 'xyz'
```

`!`é€»è¾‘é
å¦‚æœæ“ä½œæ•°èƒ½å¤Ÿè½¬æ¢ä¸º true åˆ™è¿”å› falseï¼›å¦åˆ™è¿”å› trueã€‚

```js
!expr1
```

```js
var n1 = !false // true
var n2 = !true // false
var n3 = !'abc' // false
```

çŸ­è·¯æ±‚å€¼

```js
true && 'abc' // abc
false && 'xyz' // false
```

å­—ç¬¦ä¸²è¿ç®—ç¬¦

```js
console.log('my' + 'name') // 'myname'
```

æ¡ä»¶ï¼ˆä¸‰å…ƒï¼‰äº‘ç®—æ³•

```js
var a = 1
a > 2 ? 'å¤§äº2' : 'å°äºæˆ–è€…ç­‰äº2'
```

é€—å·è¿ç®—ç¬¦

ä¸€å…ƒè¿ç®—ç¬¦
`delete`æ“ä½œç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–è€…ä¸€ä¸ªæ•°ç»„ä¸­æŸä¸€ä¸ªé”®å€¼

```js
delete objectName
delete object.age
delete arr[0]
```

`typeof`æ“ä½œç¬¦

```js
typeof a
typof(a)
```

```js
var fun = new Function(1)
var a = 'abc'
var num = 3
var date = new Date()

typeof fun // return function
typeof a // return string
typeof num // return number
typeof date // return object
typeof bbb // undefined

typeof true // boolean
typeof null // object

typeof Date // function
typeof Function // function
typeof Math // object
typeof Option // function
typeof String // function
```

`void`
void è¿ç®—ç¬¦,è¡¨æ˜ä¸€ä¸ªè¿ç®—æ²¡æœ‰è¿”å›å€¼ã€‚expression æ˜¯ javaScript è¡¨è¾¾å¼ï¼Œæ‹¬å·ä¸­çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå¯é€‰é¡¹

```js
void expression
void expression
```

å…³ç³»æ“ä½œç¬¦`in`

```js
propNameOrNumber in objectName
```

```js
var fruit = ['apple', 'mongoo', 'banana', 'orange', 'pear']

'apple' in fruit // false
0 in fruit // true
6 in fruit // false

var str = 'abcdefg'
length in str // true

'PI' in Math // true

var obj = { name: 'hello', age: 30 }
name in obj // true
age in obj // true
```

`instanceof`
objectName æ˜¯éœ€è¦åšåˆ¤åˆ«çš„å¯¹è±¡çš„åç§°,è€Œ objectType æ˜¯å‡å®šçš„å¯¹è±¡çš„ç±»å‹

```js
objectName instanceof objectType
```

```js
var today = new Date()
if (today instanceof Date) {
  // todo
}
```

### è¡¨è¾¾å¼

**åŸºæœ¬è¡¨è¾¾å¼**
`this`

```js
this.propertyName
this['propertyName']
```

**åˆ†ç»„æ“ä½œç¬¦**
åˆ†ç»„æ“ä½œç¬¦ï¼ˆï¼‰æ§åˆ¶äº†è¡¨è¾¾å¼ä¸­è®¡ç®—çš„ä¼˜å…ˆçº§

```js
var a = 1
var b = 2
var c = 3

// é»˜è®¤ä¼˜å…ˆçº§
a + b * c // 7
# ç­‰åŒäºä¸‹é¢çš„ä»£ç 
a + (b * c) // 7

(a + b) * c // 9
```

**å·¦å€¼è¡¨è¾¾å¼**
`new`ä½ å¯ä»¥ä½¿ç”¨`new operator` åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹æˆ–è€…æ˜¯é¢„ç½®ç±»å‹çš„å¯¹è±¡å®ä¾‹

```js
var objName = new ObjType(parma1, prama2, ..., pramaN)
```

`super`å…³é”®å­—å¯ä»¥ç”¨æ¥è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çˆ¶ç±»çš„å‡½æ•°ï¼Œå®ƒåœ¨ç”¨æ¥è°ƒç”¨ä¸€ä¸ªç±»çš„çˆ¶ç±»çš„æ„é€ å‡½æ•°æ—¶éå¸¸æœ‰ç”¨

```js
super([arguments])
```

## æ•°å­—

- åè¿›åˆ¶
  åè¿›åˆ¶å¯ä»¥ä»¥ 0 å¼€å¤´ï¼Œåé¢æ¥å…¶ä»–åè¿›åˆ¶æ•°å­—ï¼Œä½†æ˜¯å‡å¦‚ä¸‹ä¸€ä¸ªæ¥çš„åè¿›åˆ¶æ•°å­—å°äº 8ï¼Œé‚£ä¹ˆè¯¥æ•°å­—å°†ä¼šè¢«å½“åšå…«è¿›åˆ¶å¤„ç†ã€‚

```js
1234567890
19
0888 // 888 å°†è¢«å½“åšåè¿›åˆ¶å¤„ç†
0777 // åœ¨éä¸¥æ ¼æ ¼å¼ä¸‹ä¼šè¢«å½“åšå…«è¿›åˆ¶å¤„ç† (ç”¨åè¿›åˆ¶è¡¨ç¤ºå°±æ˜¯511)
```

- äºŒè¿›åˆ¶
  äºŒè¿›åˆ¶æ•°å­—è¯­æ³•æ˜¯ä»¥é›¶ä¸ºå¼€å¤´ï¼Œåé¢æ¥ä¸€ä¸ªå°å†™æˆ–å¤§å†™çš„æ‹‰ä¸æ–‡å­—æ¯ B(0b æˆ–è€…æ˜¯ 0B)

```js
var FLT_SIGNBIT = 0b10000000000000000000000000000000 // 2147483648
var FLT_EXPONENT = 0b01111111100000000000000000000000 // 2139095040
var FLT_MANTISSA = 0b00000000011111111111111111111111 // 8388607
```

- å…«è¿›åˆ¶
  å…«è¿›åˆ¶æ•°å­—è¯­æ³•æ˜¯ä»¥ 0 ä¸ºå¼€å¤´çš„ã€‚å‡å¦‚ 0 åé¢çš„æ•°å­—ä¸åœ¨ 0 åˆ° 7 çš„èŒƒå›´å†…ï¼Œè¯¥æ•°å­—å°†ä¼šè¢«è½¬æ¢æˆåè¿›åˆ¶æ•°å­—ã€‚

```js
var n = 0755
var b = 0654
```

- åå…­è¿›åˆ¶
  åå…­è¿›åˆ¶æ•°å­—è¯­æ³•æ˜¯ä»¥é›¶ä¸ºå¼€å¤´ï¼Œåé¢æ¥ä¸€ä¸ªå°å†™æˆ–å¤§å†™çš„æ‹‰ä¸æ–‡å­—æ¯ X(0x æˆ–è€…æ˜¯ 0X)ã€‚å‡å¦‚ 0x åé¢çš„æ•°å­—è¶…å‡ºè§„å®šèŒƒå›´(0123456789ABCDEF)ï¼Œé‚£ä¹ˆå°±ä¼šæç¤ºè¿™æ ·çš„è¯­æ³•é”™è¯¯

```js
0xfffffffffffffffff // 295147905179352830000
0x123456789abcdef // 81985529216486900
0xa // 10
```

æŒ‡æ•°å½¢å¼

```js
1e3 // 1000
2e6 // 2000000
0.1e2 // 10
```

### æ•°å­—å¯¹è±¡

- æ•°å­—çš„å±æ€§
  `Number.MAX_VALUE`å¯è¡¨ç¤ºçš„æœ€å¤§å€¼
  `Number.MIN_VALUE`å¯è¡¨ç¤ºçš„æœ€å°å€¼
  `Number.NaN`ç‰¹æŒ‡â€éæ•°å­—â€œ
  `Number.NEGATIVE_INFINITY`ç‰¹æŒ‡â€œè´Ÿæ— ç©·â€;åœ¨æº¢å‡ºæ—¶è¿”å›
  `Number.POSITIVE_INFINITY`ç‰¹æŒ‡â€œæ­£æ— ç©·â€;åœ¨æº¢å‡ºæ—¶è¿”å›
  `Number.EPSILON`è¡¨ç¤º 1 å’Œæ¯”æœ€æ¥è¿‘ 1 ä¸”å¤§äº 1 çš„æœ€å° Number ä¹‹é—´çš„å·®åˆ«
  `Number.MIN_SAFE_INTEGER`JavaScript æœ€å°å®‰å…¨æ•´æ•°
  `Number.MAX_SAFE_INTEGER`JavaScript æœ€å¤§å®‰å…¨æ•´æ•°

- æ•°å­—çš„æ–¹æ³•
  `Number.parseFloat()`æŠŠå­—ç¬¦ä¸²å‚æ•°è§£ææˆæµ®ç‚¹æ•°ï¼Œ
  å’Œå…¨å±€æ–¹æ³• parseFloat() ä½œç”¨ä¸€è‡´
  `Number.parseInt()`æŠŠå­—ç¬¦ä¸²è§£ææˆç‰¹å®šåŸºæ•°å¯¹åº”çš„æ•´å‹æ•°å­—ï¼Œå’Œå…¨å±€æ–¹æ³• parseInt() ä½œç”¨ä¸€è‡´
  `Number.isFinite()`åˆ¤æ–­ä¼ é€’çš„å€¼æ˜¯å¦ä¸ºæœ‰é™æ•°å­—
  `Number.isInteger()`åˆ¤æ–­ä¼ é€’çš„å€¼æ˜¯å¦ä¸ºæ•´æ•°
  `Number.isNaN()`åˆ¤æ–­ä¼ é€’çš„å€¼æ˜¯å¦ä¸º NaN
  `Number.isSafeInteger()`åˆ¤æ–­ä¼ é€’çš„å€¼æ˜¯å¦ä¸ºå®‰å…¨æ•´æ•°

- æ•°å­—åŸå‹ä¸Šçš„æ–¹æ³•
  `toExponential()`è¿”å›ä¸€ä¸ªæ•°å­—çš„æŒ‡æ•°å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œå½¢å¦‚ï¼š1.23e+2
  `toFixed()`è¿”å›æŒ‡å®šå°æ•°ä½æ•°çš„è¡¨ç¤ºå½¢å¼
  `toPrecision()`è¿”å›ä¸€ä¸ªæŒ‡å®šç²¾åº¦çš„æ•°å­—

### æ•°å­¦å¯¹è±¡`Math`

Math.PI
Math.sin()
abs() // ç»å¯¹å€¼
sin(), cos(), tan() // æ ‡å‡†ä¸‰è§’å‡½æ•°;å‚æ•°ä¸ºå¼§åº¦
asin(), acos(), atan(), atan2() // åä¸‰è§’å‡½æ•°; è¿”å›å€¼ä¸ºå¼§åº¦
sinh(), cosh(), tanh() // åŒæ›²ä¸‰è§’å‡½æ•°; è¿”å›å€¼ä¸ºå¼§åº¦
asinh(), acosh(), atanh() // ååŒæ›²ä¸‰è§’å‡½æ•°;è¿”å›å€¼ä¸ºå¼§åº¦
pow(), exp(), expm1(), log10(), log1p(), log2() // æŒ‡æ•°ä¸å¯¹æ•°å‡½æ•°
floor(), ceil() // è¿”å›æœ€å¤§/æœ€å°æ•´æ•°å°äº/å¤§äºæˆ–ç­‰äºå‚æ•°
min(), max() // è¿”å›ä¸€ä¸ªä»¥é€—å·é—´éš”çš„æ•°å­—å‚æ•°åˆ—è¡¨ä¸­çš„è¾ƒå°æˆ–è¾ƒå¤§å€¼(åˆ†åˆ«åœ°)
random() // è¿”å› 0 å’Œ 1 ä¹‹é—´çš„éšæœºæ•°
round(), fround(), trunc() // å››èˆäº”å…¥å’Œæˆªæ–­å‡½æ•°
sqrt(), cbrt(), hypot() // å¹³æ–¹æ ¹ï¼Œç«‹æ–¹æ ¹ï¼Œå¹³æ–¹å‚æ•°çš„å’Œçš„å¹³æ–¹æ ¹,ä¸¤ä¸ªå‚æ•°å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹
sign() // æ•°å­—çš„ç¬¦å·, è¯´æ˜æ•°å­—æ˜¯å¦ä¸ºæ­£ã€è´Ÿã€é›¶
clz32() // åœ¨ 32 ä½ 2 è¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œå¼€å¤´çš„ 0 çš„æ•°é‡
imul() // è¿”å›ä¼ å…¥çš„ä¸¤ä¸ªå‚æ•°ç›¸ä¹˜ç»“æœçš„ç±» C çš„ 32 ä½è¡¨ç°å½¢å¼

## Date æ—¥æœŸå¯¹è±¡

Date å¯¹è±¡çš„èŒƒå›´æ˜¯ç›¸å¯¹è·ç¦» UTC 1970 å¹´ 1 æœˆ 1 æ—¥ çš„å‰å 100,000,000 å¤©
åˆ›å»ºä¸€ä¸ªæ—¶é—´å¯¹è±¡

```js
var date = new Date([params])
```

ä¸ä½¿ç”¨ new å…³é”®å­—æ¥è°ƒç”¨ Date å¯¹è±¡å°†è¿”å›å½“å‰æ—¶é—´å’Œæ—¥æœŸçš„å­—ç¬¦ä¸²

åˆ›å»ºæ—¶é—´å¯¹è±¡çš„å‚æ•°å¯ä»¥æ˜¯ä¸‹é¢ä»»æ„ä¸€ç§ï¼š
æ— å‚æ•° åˆ›å»ºä»Šå¤©çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œä¾‹å¦‚ï¼š

```js
var today = new Date()
```

ä¸€ä¸ªç¬¦åˆä»¥ä¸‹æ ¼å¼çš„è¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²: "æœˆ æ—¥, å¹´ æ—¶:åˆ†:ç§’.", å¦‚æœçœç•¥æ—¶åˆ†ç§’ï¼Œå®ƒä»¬å°†é»˜è®¤ä¸º 0

```js
var date = new Date('September 11 2001 09:11:11')
```

ä¸€ä¸ªå¹´ï¼Œæœˆï¼Œæ—¥çš„æ•´å‹å€¼çš„é›†åˆ

```js
var date = new Date(1997, 7, 1)
```

ä¸€ä¸ªå¹´ï¼Œæœˆï¼Œæ—¥ï¼Œæ—¶ï¼Œåˆ†ï¼Œç§’çš„é›†åˆ

```js
var date = new Date(1999, 10, 1, 12, 30, 0)
```

### Date å¯¹è±¡çš„æ–¹æ³•

- `set` æ–¹æ³•, ç”¨äºè®¾ç½® Date å¯¹è±¡çš„æ—¥æœŸå’Œæ—¶é—´çš„å€¼
- `get` æ–¹æ³•,ç”¨äºè·å– Date å¯¹è±¡çš„æ—¥æœŸå’Œæ—¶é—´çš„å€¼
- `to` æ–¹æ³•,ç”¨äºè¿”å› Date å¯¹è±¡çš„å­—ç¬¦ä¸²æ ¼å¼çš„å€¼
- `parse` å’Œ`UTC` æ–¹æ³•, ç”¨äºè§£æ Date å­—ç¬¦ä¸²

`get` å’Œ `set`æ–¹æ³•å¯ä»¥è®¾ç½®å’Œå–ç§’ï¼Œåˆ†ï¼Œæ—¶ï¼Œæ—¥ï¼Œæ˜ŸæœŸï¼Œæœˆä»½ï¼Œå¹´
`getDay`å¯ä»¥è·å–åˆ°æ˜ŸæœŸï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰è®¾ç½®æ˜ŸæœŸçš„æ–¹æ³•

- ç§’ï¼Œ åˆ†ï¼š 00-59
- æ—¶ï¼š 0-23
- æ˜ŸæœŸï¼š 0(å‘¨æ—¥)-6(å‘¨å…­)
- æ—¥æœŸï¼š 1-31
- æœˆä»½ï¼š 0(ä¸€æœˆ) - 11(åäºŒæœˆ)
- å¹´ä»½ï¼š ä» 1900 å¼€å§‹çš„å¹´æ•°

## å­—ç¬¦ä¸²

- String å­—é¢é‡
  å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·åˆ›å»ºç®€å•çš„å­—ç¬¦ä¸²

```js
'hello'
'world'
```

16 è¿›åˆ¶è½¬ä¹‰åºåˆ—

```js
'\xA9' // "Â©"
```

Unicode è½¬ä¹‰åºåˆ—
Unicode è½¬ä¹‰åºåˆ—åœ¨\u ä¹‹åéœ€è¦è‡³å°‘ 4 ä¸ªå­—ç¬¦

```js
'\u00A9' // "Â©"
```

Unicode å­—å…ƒé€¸å‡º

- å­—ç¬¦ä¸²å¯¹è±¡
  `String` å¯¹è±¡æ˜¯å¯¹åŸå§‹ string ç±»å‹çš„å°è£…

```js
var str = new String('abc')
console.log(str)
```

é™¤éå¿…è¦, åº”è¯¥å°½é‡ä½¿ç”¨ String å­—é¢å€¼, å› ä¸º String å¯¹è±¡çš„æŸäº›è¡Œä¸ºå¯èƒ½å¹¶ä¸ä¸ç›´è§‰ä¸€è‡´

```js
var s1 = '2 + 2'
var s2 = new String('2 + 2')
eval(s1)
eval(s2)
```

å­—ç¬¦ä¸²çš„é•¿åº¦`length`å±æ€§, é•¿åº¦åŒ…æ‹¬ç©ºæ ¼

```js
var str = 'hello world'
var len = str.length // 11
```

**`String`å¯¹è±¡æ–¹æ³•**
è¿”å›å­—ç¬¦ä¸²æŒ‡å®šä½ç½®çš„å­—ç¬¦æˆ–è€…å­—ç¬¦ç¼–ç 

```js
charAt()
charCodeAt()
codePointAt()
```

åˆ†åˆ«è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šå­ä¸²çš„ä½ç½®æˆ–æœ€åä½ç½®

```js
indexOf()
lastIndexOf()
```

è¿”å›å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å§‹ã€ç»“æŸæˆ–åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²

```js
startsWith()
endsWith()
includes()
```

è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²

```js
concat()
```

ä»æŒ‡å®šçš„ Unicode å€¼åºåˆ—æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ª String ç±»æ–¹æ³•ï¼Œä¸æ˜¯å®ä¾‹æ–¹æ³•

```js
fromCharCode()
fromCodePoint()
```

é€šè¿‡å°†å­—ç¬¦ä¸²åˆ†ç¦»æˆä¸€ä¸ªä¸ªå­ä¸²æ¥æŠŠä¸€ä¸ª String å¯¹è±¡åˆ†è£‚åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­

```js
split()
```

ä»ä¸€ä¸ªå­—ç¬¦ä¸²æå–ç‰‡æ®µå¹¶ä½œä¸ºæ–°å­—ç¬¦ä¸²è¿”å›

```js
slice()
```

åˆ†åˆ«é€šè¿‡æŒ‡å®šèµ·å§‹å’Œç»“æŸä½ç½®ï¼Œæ¥è¿”å›å­—ç¬¦ä¸²çš„æŒ‡å®šå­é›†

```js
substring()
```

èµ·å§‹ä½ç½®å’Œé•¿åº¦æ¥è¿”å›å­—ç¬¦ä¸²çš„æŒ‡å®šå­é›†

```js
substr()
```

é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥å·¥ä½œ

```js
match()
replace()
search()
```

åˆ†åˆ«è¿”å›å­—ç¬¦ä¸²çš„å°å†™è¡¨ç¤ºå’Œå¤§å†™è¡¨ç¤º

```js
toLowerCase()
toUpperCase()
```

æŒ‰ç…§æŒ‡å®šçš„ä¸€ç§ Unicode æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–

```js
normalize()
```

å°†å­—ç¬¦ä¸²å†…å®¹é‡å¤æŒ‡å®šæ¬¡æ•°åè¿”å›

```js
repeat()
```

å»æ‰å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦

```js
trim()
```

ä¸‹é¢æ˜¯ ğŸŒ° demo

```js
var str = 'ç™¾åº¦-WWW.baidu.com'
```

æŒ‰ä¸‹æ ‡æŸ¥æ‰¾å­—ç¬¦ä¸²

```js
str.charAt(1) // 'åº¦'
```

å°†å­—ç¬¦è½¬ä¸ºæ•°å­—

```js
str.charCodeAt(1) // 24230
```

å°†æ•°å­—è½¬ä¸ºæ–‡å­—å­—ç¬¦

```js
String.fromCharCode(30334, 24230) // 'ç™¾åº¦'
```

æ ¹æ®ç»™å‡ºçš„ä¸‹æ ‡ï¼ŒæŸ¥æ‰¾å­—ç¬¦æ‰€åœ¨ä½ç½®ï¼ˆä»å‰å¾€åæ‰¾ï¼‰

```js
str.indexOf('m', 4) // 15
```

æ ¹æ®ç»™å‡ºçš„ä¸‹æ ‡ï¼ŒæŸ¥æ‰¾å­—ç¬¦æ‰€åœ¨ä½ç½®ï¼ˆä»åå¾€å‰æ‰¾ï¼‰

```js
str.lastIndexOf('o') // 14
```

å­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼ŒæŒ‰ç…§ä½ç½®æ¥ä¸€ä¸€å¯¹æ¯”ï¼Œåªè¦æœ‰ä¸€ä¸ªå¤§ï¼Œåé¢å°±ä¸åšæ¯”è¾ƒ

```js
'1000' < '2' // true
```

2 ç§ä¸åŒç±»å‹æ¯”è¾ƒï¼Œé»˜è®¤ä¼šåšéšå¼è½¬æ¢ï¼Œå­—ç¬¦ä¸²å°†ä¼šè½¬ä¸ºæ•°å­—ï¼Œæ‰€ä»¥ä¸º true

```js
'1000' > 2 // true
```

æˆªå–å­—ç¬¦ä¸²ï¼Œèµ·å§‹ä½ç½®ï¼Œç»“æŸä½ç½® å¯ä»¥æ£€æµ‹ 2 ä¸ªæ•°ï¼Œå¤§çš„å¾€åæ‰”ï¼Œå°çš„å¾€å‰æ‰”,è´Ÿæ•°åˆ™ä¸º 0

```js
str.substring(0, 4) // "ç™¾åº¦-w"
```

æˆªå–å­—ç¬¦ä¸²,å¦‚æœä¸ºè´Ÿæ•°,åˆ™å°†ä»åå¾€å‰æ•°,æ¥æˆªå–å­—ç¬¦,ä¸äº¤æ¢ä½ç½®

```js
str.slice(-3) // 'com'
```

è½¬æ¢ä¸ºå¤§å†™(åªé’ˆå¯¹è‹±æ–‡)

```js
str.toUpperCase() // "ç™¾åº¦-WWW.BAIDU.COM"
```

è½¬æ¢ä¸ºå°å†™(åªé’ˆå¯¹è‹±æ–‡)

```js
str.toLowerCase() // "ç™¾åº¦-www.baidu.com"
```

åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä»¥ä»€ä¹ˆæˆªæ–­å­—ç¬¦ä¸²ï¼Œç¬¬äºŒå‚æ•°æ˜¯ä¿ç•™å‡ æ®µ,è½¬å…¥æ•°ç»„ä¸­ï¼Œæ­¤æ—¶å·²æ˜¯æ•°ç»„,å¦‚æœä¸ä¼ å‚æ•°ï¼Œåˆ™æ•´ä¸ªå­—ç¬¦ä¸²ä¸€èµ·åˆ‡å‰²ï¼Œå¦‚æœä¼ å…¥ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™ä»¥æ¯ä¸ªå­—ç¬¦æ¥åˆ‡å‰²

```js
str.split('.', 2) // ["ç™¾åº¦-www", "baidu"]
```

å°†æ•°ç»„æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œå‚æ•°æ˜¯æ‹¼æ¥çš„ç¬¦å·ï¼Œå¦‚ä¸ä¼ å‚ï¼Œåˆ™é»˜è®¤ä¸º'ï¼Œ'å·æ‹¼æ¥ï¼Œå¦‚ä¼ çš„æ˜¯'' ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™æ²¡æœ‰ä»»ä½•ç¬¦å·æ‹¼æ¥

```js
var arr = ['www', 'baidu', 'com']
arr.join('aaa') // "wwwaaabaiduaaacom"
```

## æ­£åˆ™è¡¨è¾¾å¼

`g` å…¨å±€åŒ¹é… æ˜¯å¦å…¨æ–‡æœç´¢ï¼Œé»˜è®¤ false

`i` å¿½ç•¥å¤§å°å†™ æ˜¯å¦å¤§å°å†™æ•æ„Ÿï¼Œé»˜è®¤ false

`m` å¤šè¡ŒåŒ¹é…(å­—ç¬¦ä¸²æœ‰æ¢è¡Œçš„æ—¶å€™)ï¼Œé»˜è®¤ false

### æ­£åˆ™çš„å†™æ³•

```js
var re = /a/
var re = /a+b/
var re = /^[a-zA-Z]+[0-9]*\W?_$/gi
var re = new RegExp('a')
var re = new RegExp('a+c')
var re = new RegExp('^[a-zA-Z]+[0-9]*W?_$', 'gi')
```

### æ­£åˆ™æ–¹æ³•

```js
// ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„ RegExp æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆæœªåŒ¹é…åˆ°åˆ™è¿”å› nullï¼‰
exec()

// ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•æ˜¯å¦åŒ¹é…çš„ RegExp æ–¹æ³•ï¼Œå®ƒè¿”å› true æˆ– false
test()

// ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„ String æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„æˆ–è€…åœ¨æœªåŒ¹é…åˆ°æ—¶è¿”å› null
match()

// ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•åŒ¹é…çš„ String æ–¹æ³•ï¼Œå®ƒè¿”å›åŒ¹é…åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œæˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å›-1
search()

// ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„ String æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨æ›¿æ¢å­—ç¬¦ä¸²æ›¿æ¢æ‰åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²
replace()

// ä¸€ä¸ªä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–è€…ä¸€ä¸ªå›ºå®šå­—ç¬¦ä¸²åˆ†éš”ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†åˆ†éš”åçš„å­å­—ç¬¦ä¸²å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„ String æ–¹æ³•
split()

// æ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å€¼ã€‚è¿”å› true æˆ– false
test()

// æ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å€¼ã€‚è¿”å›æ‰¾åˆ°çš„å€¼ï¼Œå¹¶ç¡®å®šå…¶ä½ç½®
exec()

// æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å€¼
search()

// æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…
match()

// æ›¿æ¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²
replace()

// æŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„
split()
```

### é¢„å®šä¹‰ç±»

`.` é™¤äº†å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦
`. = [^\r\n]`

`\d` æ•°å­—å­—ç¬¦
`\d = [0-9]`

`\D` éæ•°å­—å­—ç¬¦
`\D = [^0-9]`

`\s` ç©ºç™½ç¬¦
`\s = [\t\n\x0B\f\r]`

`\S` éç©ºç™½ç¬¦
`\S = [^\t\n\x0B\f\r]`

`\w` å•è¯å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ä¸‹åˆ’çº¿ï¼‰
`\w = [a-zA-Z_0-9]`

`\W` éå•è¯å­—ç¬¦
`\W = [^a-zA-Z_0-9]`

### è¾¹ç•Œ

`^` ä»¥ xxx å¼€å¤´

`$` ä»¥ xxx ç»“æŸ

`\b` å•è¯è¾¹ç•Œ

`\B` éå•è¯è¾¹ç•Œ

```js
var re = /^@./g
var str = '@123@456@789@'
str.replace(re, 'X') // X23@456@789@

var re = /.@$/g
var str = '@123@456@789@'
str.replace(re, 'X') // @123@456@78X

var re = /\bis\b/g
var str = 'who is this man? This man who?'
str.replace(re, 'X') // who X this man? This man who?

var re = /\Bis\b/g
var str = 'who is this man? This man who?'
str.replace(re, 'X') // who is thX man? ThX man who?
```

### é‡å¤é¡¹

`\1` é‡å¤çš„ç¬¬ä¸€ä¸ªå­é¡¹

`\2` é‡å¤çš„ç¬¬äºŒä¸ªå­é¡¹

### æˆ– `|`

```js
var re = /b(e|a|i)d/g
var str = 'bedbadbabybid'
str.replace(re, 'X') // XXbabyX
```

### `[]` èŒƒå›´é€‰æ‹©

- `[abc]` æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦åŒ¹é…å‡å¯ä»¥

- `[a-z]` èŒƒå›´ a-z çš„èŒƒå›´å†…

- `[h-m]` h - m èŒƒå›´

- `[A-Z]` èŒƒå›´ A-Z çš„èŒƒå›´å†…

- `[0-9]` èŒƒå›´ 0-9 çš„èŒƒå›´å†…

```js
var re = /[a-z]/g
var str = 'a1b2c3d4x5y6z7'
str.replace(re, 'X')

var re2 = /[a-zA-Z]/g
var str2 = 'a1b2c3d4x5y6z7ABCDE'
str2.replace(re2, '0')

var re3 = /[0-9-]/g
var str3 = '1948-01-21'
str3.replace(re3, 'G')
```

### é‡è¯

`{n}` æ­£å¥½å‡ºç° n æ¬¡

`{n,m}` æœ€å°‘å‡ºç° n æ¬¡ï¼Œæœ€å¤š m æ¬¡

`{n,}` æœ€å°‘å‡ºç° n æ¬¡ï¼Œæœ€å¤šä¸é™

`+`åŒ`{1,}` æœ€å°‘å‡ºç° 1 æ¬¡ï¼Œæœ€å¤šä¸é™

`?`åŒ`{0,1}` æœ€å°‘å‡ºç° 0 æ¬¡å°±æ˜¯å¯ä»¥ä¸å‡ºç°ï¼Œæœ€å¤š 1 æ¬¡

`*`åŒ`{0,}` æœ€å°‘å‡ºç° 0 æ¬¡ï¼Œæœ€å¤šä¸é™ (è°¨æ…ä½¿ç”¨)

### åˆ†ç»„ `()`

```js
var re = /[a-z]\d{3}/g
var str = 'a1b2c3d4'
str.replace(re, 'X') // a1b2c3d4

var re = /([a-z]\d){3}/g
var str = 'a1b2c3d4'
str.replace(re, 'X') // Xd4
```

### æ­£åˆ™åŒ¹é…å®ç”¨ ğŸŒ°

- æµ®ç‚¹æ•° float

```js
;/^[-\+]?\d+(\.\d+)?$/
```

- æ­£æ•´æ•° integer

```js
;/^[-\+]?\d+$/
```

- æ•°å­— 0-9 number

```js
;/^\d+$/
```

- ä¸­æ–‡æ±‰å­— chiness string

```js
;/^[\u0391-\uFFE5]+?$/
```

- æ±‰å­—

```js
;/^[\u4e00-\u9fa5]+$/
```

- ä¸­æ–‡æ±‰å­—æˆ–è€…å­—ç¬¦

```js
;/^[\u0391-\uFFE5]+$/
```

- è‹±æ–‡å­—ç¬¦ä¸² English string

```js
;/^[a-zA-Z]+$/
```

- æ‰‹æœºå·ç  phone number

```js
value.length == 11 && /^(13[0-9]{1}|(15[0-9]{1})|(18[0-9]{1})\d{8})$/
```

- ç”µè¯å·ç  telephone

```js
;/^(\d{3,4}-?)?(\d{7,9})$/g
```

- qq å·ç 

```js
;/^[1-9]\d{4,12})/
```

- é‚®ç¼– post code

```js
;/^[0-9]{6}/
```

- 6-12 ä½å¯†ç  password, only start for letter and length between 6-12

```js
;/^[a-zA-Z]\w{6,12}$/
```

- Ip åœ°å€

```js
;/^(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([1-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/
```

- å­—ç¬¦éªŒè¯ï¼Œåªèƒ½åŒ…å«ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç­‰å­—ç¬¦

```js
;/^[a-zA-Z0-9\u4e00-\u9fa5-_]+$/
```

- åˆ¤æ–­æ˜¯å¦ä¸ºåˆæ³•å­—ç¬¦( a-zA-Z0-9-\_ )

```js
;/^[A-Za-z0-9_-]+$/
```

- åˆ¤æ–­æ˜¯å¦åŒ…å«ä¸­è‹±æ–‡ç‰¹æ®Šå­—ç¬¦ï¼Œé™¤è‹±æ–‡" -\_ "å­—ç¬¦å¤–

```js
var reg = RegExp(
  /[(\ )(\`)(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\+)(\=)(\|)(\{)(\})(\')(\:)(\;)(\')(',)(\[)(\])(\.)(\<)(\>)(\/)(\?)(\~)(\ï¼)(\@)(\#)(\ï¿¥)(\%)(\â€¦)(\&)(\*)(\ï¼ˆ)(\ï¼‰)(\â€”)(\+)(\|)(\{)(\})(\ã€)(\ã€‘)(\â€˜)(\ï¼›)(\ï¼š)(\â€)(\â€œ)(\â€™)(\ã€‚)(\ï¼Œ)(\ã€)(\ï¼Ÿ)]+/
)
```

- è½¦ç‰Œå·æ ¡éªŒ

```js
function isPlateNo(plateNo) {
  var re = /^[\u4e00-\u9fa5]{1}[A-Z]{1}[A-Z_0-9]{5}$/
  if (re.test(plateNo)) {
    return true
  }
  return false
}
```

- èº«ä»½è¯å·ç çš„éªŒè¯è§„åˆ™

```js
function isIdCardNo(num) {
  //if (isNaN(num)) {alert("è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼"); return false;}
  var len = num.length,
    re
  if (len == 15) re = new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{2})(\w)$/)
  else if (len == 18)
    re = new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/)
  else {
    //alert("è¾“å…¥çš„æ•°å­—ä½æ•°ä¸å¯¹ã€‚");
    return false
  }
  var a = num.match(re)
  if (a != null) {
    if (len == 15) {
      var D = new Date('19' + a[3] + '/' + a[4] + '/' + a[5])
      var B =
        D.getYear() == a[3] && D.getMonth() + 1 == a[4] && D.getDate() == a[5]
    } else {
      var D = new Date(a[3] + '/' + a[4] + '/' + a[5])
      var B =
        D.getFullYear() == a[3] &&
        D.getMonth() + 1 == a[4] &&
        D.getDate() == a[5]
    }
    if (!B) {
      //alert("è¾“å…¥çš„èº«ä»½è¯å· "+ a[0] +" é‡Œå‡ºç”Ÿæ—¥æœŸä¸å¯¹ã€‚");
      return false
    }
  }
  if (!re.test(num)) {
    //alert("èº«ä»½è¯æœ€åä¸€ä½åªèƒ½æ˜¯æ•°å­—å’Œå­—æ¯ã€‚");
    return false
  }
  return true
}
```

## Array

### åˆ›å»ºæ•°ç»„

```js
var arr = new Array('ab', 'cd', 'ef')
var arr = Array('ab', 'c', 'd')
var arr = ['a', 'b', 'c', 'd']
```

åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸ä¸º 0ï¼Œä½†æ˜¯åˆæ²¡æœ‰ä»»ä½•å…ƒç´ çš„æ•°ç»„

```js
var arr = new Array(4)
var arr = Array(4)
arr.length // 4

var arr = []
arr.length = 4
```

```js
var arr = [42] // åˆ›å»ºä¸€ä¸ªåªæœ‰å”¯ä¸€å…ƒç´ çš„æ•°ç»„:

var arr = Array(42) // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å…ƒç´ çš„æ•°ç»„,ä½†æ˜¯æ•°ç»„çš„é•¿åº¦è¢«è®¾ç½®æˆ42.

// ä¸Šé¢çš„ä»£ç ä¸ä¸‹é¢çš„ä»£ç ç­‰ä»·
var arr = []
arr.length = 42
```

### å¡«å……æ•°ç»„

```js
var arr = []
arr[0] = 'abc'
arr[1] = 'xyz'
```

### å¼•ç”¨æ•°ç»„

```js
var arr = ['red', 'blue', 'yellow']
arr[2] // yellow
arr['length'] // 3
```

### æ•°ç»„é•¿åº¦

```js
var color = []
color[10] = 'red'
console.log(color.length) // 11

var arr = ['red', 'blue', 'green', 'yellow']
console.log(arr.length)

arr.length = 3
console.log(arr) // ['red', 'blue', 'green']

arr.length = 0
console.log(arr)[(undefined, undefined, undefined)]
```

### éå†æ•°ç»„

```js
var colors = ['red', 'blue', 'green', 'yellow']
for (var i = 0; i < colors.length; i++) {
  console.log(i)
  console.log(colors[i])
}

colors.forEach(function(color) {
  console.log(color)
})
```

### æ•°ç»„çš„æ–¹æ³•

```js
// è¿æ¥ä¸¤ä¸ªæ•°ç»„å¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„
concat()

// å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²
join()

// åœ¨æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„æ“ä½œåçš„é•¿åº¦
push()

// ä»æ•°ç»„ç§»å‡ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
pop()

// ä»æ•°ç»„ç§»å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
shift()

// åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„çš„æ–°é•¿åº¦
unshift()

// ä»æ•°ç»„æå–ä¸€ä¸ªç‰‡æ®µï¼Œå¹¶ä½œä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›
slice()

// ä»æ•°ç»„ç§»å‡ºä¸€äº›å…ƒç´ ï¼Œï¼ˆå¯é€‰ï¼‰å¹¶æ›¿æ¢å®ƒä»¬
splice()

// é¢ å€’æ•°ç»„å…ƒç´ çš„é¡ºåºï¼šç¬¬ä¸€ä¸ªå˜æˆæœ€åä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªå˜æˆç¬¬ä¸€ä¸ª
reverse()

// ç»™æ•°ç»„å…ƒç´ æ’åº
sort()

// åœ¨æ•°ç»„ä¸­æœç´¢ searchElement å¹¶è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç´¢å¼•ã€‚
indexOf()

// å’Œ indexOf å·®ä¸å¤šï¼Œä½†è¿™æ˜¯ä»ç»“å°¾å¼€å§‹ï¼Œå¹¶ä¸”æ˜¯åå‘æœç´¢ã€‚
lastIndexOf()

// åœ¨æ•°ç»„æ¯ä¸ªå…ƒç´ é¡¹ä¸Šæ‰§è¡Œ callback
forEach()

// åœ¨æ•°ç»„çš„æ¯ä¸ªå•å…ƒé¡¹ä¸Šæ‰§è¡Œ callback å‡½æ•°ï¼Œå¹¶æŠŠè¿”å›åŒ…å«å›è°ƒå‡½æ•°è¿”å›å€¼çš„æ–°æ•°ç»„ï¼ˆè¯‘è€…æ³¨ï¼šä¹Ÿå°±æ˜¯éå†æ•°ç»„ï¼Œå¹¶é€šè¿‡ callback å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ“ï¼Œå¹¶å°†æ‰€æœ‰æ“ä½œç»“æœæ”¾å…¥æ•°ç»„ä¸­å¹¶è¿”å›è¯¥
map()

// è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åœ¨å›è°ƒå‡½æ•°ä¸Šè¿”å›ä¸º true çš„å…ƒç´ çš„æ–°æ•°ç»„ï¼ˆè¯‘è€…æ³¨ï¼šcallback åœ¨è¿™é‡Œæ‹…ä»»çš„æ˜¯è¿‡æ»¤å™¨çš„è§’è‰²ï¼Œå½“å…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œè¿‡æ»¤å™¨å°±è¿”å› rueï¼Œè€Œ filter åˆ™ä¼šè¿”å›æ‰€æœ‰ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„
filter()

// æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ åœ¨ callback ä¸Šè¢«è¿”å› true æ—¶å°±è¿”å› trueï¼ˆè¯‘è€…æ³¨ï¼šåŒä¸Šï¼Œevery å…¶å®ç±»ä¼¼ filterï¼Œåªä¸è¿‡å®ƒçš„åŠŸèƒ½æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯æ•°ç»„ä¸­çš„æ‰€å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶ï¼Œå¹¶ä¸”è¿”å›çš„æ˜¯å¸ƒ
every()

// åªè¦æ•°ç»„ä¸­æœ‰ä¸€é¡¹åœ¨ callback ä¸Šè¢«è¿”å› trueï¼Œå°±è¿”å› trueï¼ˆè¯‘è€…æ³¨ï¼šåŒä¸Šï¼Œç±»ä¼¼ everyï¼Œä¸è¿‡å‰è€…è¦æ±‚éƒ½ç¬¦åˆç­›é€‰æ¡ä»¶æ‰è¿”å› trueï¼Œåè€…åªè¦æœ‰åˆæ¡ä»¶çš„å°±è¿”å› tr
some()

// ä½¿ç”¨å›è°ƒå‡½æ•° callback(firstValue, secondValue) æŠŠæ•°ç»„åˆ—è¡¨è®¡ç®—æˆä¸€ä¸ªå•ä¸€å€¼ï¼ˆè¯‘è€…æ³¨ï¼šä»–æ•°ç»„å…ƒç´ ä¸¤ä¸¤é€’å½’å¤„ç†çš„æ–¹å¼æŠŠæ•°ç»„è®¡ç®—æˆä¸€ä¸ªå€¼
reduce()
```

### å¤šç»´æ•°ç»„

```js
var arr = [['abc', 'xyz'], [1, 2, 3], [4, 5, 6]]

console.log(arr[0][0]) // abc
```

## æ˜ å°„

**Map å¯¹è±¡**
ä¸€ä¸ª Map å¯¹è±¡å°±æ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼å¯¹æ˜ å°„é›†åˆï¼Œå¯ä»¥æŒ‰ç…§æ•°æ®æ’å…¥æ—¶çš„é¡ºåºéå†æ‰€æœ‰çš„å…ƒç´ 

```js
var saying = new Map()

saying.set('dog', 'woof')
saying.set('cat', 'meow')
saying.set('elephant', 'toot')

saying.size // 3
saying.get('fox') // undefined
saying.has('bird') // false
saying.delete('dog')
saying.has('dog') // false
```

éå†`Map`å¯¹è±¡

```js
for (let [key, val] of saying) {
  console.log(key + '=' + val)
}
```

æ¸…ç©º`Map`å¯¹è±¡

```js
saying.clear()
console.log(saying.size) // 0
```

Object å’Œ Map æ¯”è¾ƒ

- Object çš„é”®å‡ä¸º Strings ç±»å‹ï¼Œåœ¨ Map é‡Œé”®å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚
- å¿…é¡»æ‰‹åŠ¨è®¡ç®— Object çš„å°ºå¯¸ï¼Œä½†æ˜¯å¯ä»¥å¾ˆå®¹æ˜“åœ°è·å–ä½¿ç”¨ Map çš„å°ºå¯¸ã€‚
- Map çš„éå†éµå¾ªå…ƒç´ çš„æ’å…¥é¡ºåºã€‚
- Object æœ‰åŸå‹ï¼Œæ‰€ä»¥æ˜ å°„ä¸­æœ‰ä¸€äº›ç¼ºçœçš„é”®ã€‚ï¼ˆå¯ä»¥ç†è§£ä¸º map = Object.create(null)ï¼‰

åœ¨å¼€å‘ä¸­ï¼Œåˆ°åº•æ˜¯ä½¿ç”¨`Object` è¿˜æ˜¯ `Map` ?
è¿™ä¸‰æ¡æç¤ºå¯ä»¥å¸®ä½ å†³å®šç”¨ Map è¿˜æ˜¯ Objectï¼š

- å¦‚æœé”®åœ¨è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼Œæˆ–è€…æ‰€æœ‰çš„é”®ç±»å‹ç›¸åŒï¼Œæ‰€æœ‰çš„å€¼ç±»å‹ç›¸åŒï¼Œé‚£å°±ä½¿ç”¨ Mapã€‚
- å¦‚æœéœ€è¦å°†åŸå§‹å€¼å­˜å‚¨ä¸ºé”®ï¼Œåˆ™ä½¿ç”¨ Mapï¼Œå› ä¸º Object å°†æ¯ä¸ªé”®è§†ä¸ºå­—ç¬¦ä¸²ï¼Œä¸ç®¡å®ƒæ˜¯ä¸€ä¸ªæ•°å­—å€¼ã€å¸ƒå°”å€¼è¿˜æ˜¯ä»»ä½•å…¶ä»–åŸå§‹å€¼ã€‚
- å¦‚æœéœ€è¦å¯¹ä¸ªåˆ«å…ƒç´ è¿›è¡Œæ“ä½œï¼Œä½¿ç”¨ Objectã€‚

WeakMap å¯¹è±¡

```js
const privates = new WeakMap()

function Public() {
  const me = {
    // Private data goes here
  }
  privates.set(this, me)
}

Public.prototype.method = function() {
  const me = privates.get(this)
  // Do stuff with private data in `me`...
}

module.exports = Public
```

## é›†åˆ

Set å¯¹è±¡
::: tip
Set å¯¹è±¡æ˜¯ä¸€ç»„å€¼çš„é›†åˆï¼Œè¿™äº›å€¼æ˜¯ä¸é‡å¤çš„ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ é¡ºåºæ¥éå†ã€‚
:::

```js
var mySet = new Set()
mySet.add(1)
mySet.add('foo bar')
mySet.add('abc')

mySet.has(1) // true
mySet.delete('abc')
mySet.size() // 2

for (let i of mySet) {
  console.log(i) // 1 'foo bar'
}
```

### æ•°ç»„å’Œé›†åˆçš„è½¬æ¢

å¯ä»¥ä½¿ç”¨ Array.from æˆ–å±•å¼€æ“ä½œç¬¦æ¥å®Œæˆé›†åˆåˆ°æ•°ç»„çš„è½¬æ¢ã€‚åŒæ ·ï¼ŒSet çš„æ„é€ å™¨æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥å®Œæˆä» Array åˆ° Set çš„è½¬æ¢ã€‚éœ€è¦é‡ç”³çš„æ˜¯ï¼ŒSet å¯¹è±¡ä¸­çš„å€¼ä¸é‡å¤ï¼Œæ‰€ä»¥æ•°ç»„è½¬æ¢ä¸ºé›†åˆæ—¶ï¼Œæ‰€æœ‰é‡å¤å€¼å°†ä¼šè¢«åˆ é™¤ã€‚

```js
var mySet = new Set()
mySet.add(1)
mySet.add('abc')
var myNewSet = Array.from(mySet)

myNewSet = [...mySet]

var mySet2 = new Set([1, 2, 3, 4])
```

### Array ä¸ Set æ¯”è¾ƒ

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨ JavaScript ä¸­ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨ä¸€ç»„å…ƒç´ ï¼Œè€Œæ–°çš„é›†åˆå¯¹è±¡æœ‰è¿™äº›ä¼˜åŠ¿ï¼š

- æ•°ç»„ä¸­ç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨çš„ indexOf å‡½æ•°æ•ˆç‡ä½ä¸‹ã€‚
- Set å¯¹è±¡å…è®¸æ ¹æ®å€¼åˆ é™¤å…ƒç´ ï¼Œè€Œæ•°ç»„ä¸­å¿…é¡»ä½¿ç”¨åŸºäºä¸‹æ ‡çš„ splice æ–¹æ³•ã€‚
- æ•°ç»„çš„ indexOf æ–¹æ³•æ— æ³•æ‰¾åˆ° NaN å€¼ã€‚
- Set å¯¹è±¡å­˜å‚¨ä¸é‡å¤çš„å€¼ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨å¤„ç†åŒ…å«é‡å¤å€¼çš„æƒ…å†µã€‚

## å¯¹è±¡ `Object`

### å¯¹è±¡å’Œå±æ€§

```js
var apple = new Object()
apple.color = 'red'
apple.weight = 1
apple.price = 5
```

å¯¹è±¡ä¸­æœªèµ‹å€¼çš„å±æ€§çš„å€¼ä¸º undefinedï¼ˆè€Œä¸æ˜¯ nullï¼‰
å¯¹è±¡çš„å±æ€§è¿˜å¯ä»¥é€šè¿‡`æ–¹æ‹¬å·`çš„æ–¹å¼è®¿é—®

```js
apple['color']
apple['weight']
```

ä¸€ä¸ªå¯¹è±¡çš„å±æ€§åå¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å­—ç¬¦ä¸²ï¼Œæˆ–è€…å¯ä»¥è¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ã€‚ç„¶è€Œï¼Œä¸€ä¸ªå±æ€§çš„åç§°å¦‚æœä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JavaScript æ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªç”±ç©ºæ ¼æˆ–è¿å­—ç¬¦ï¼Œæˆ–è€…ä»¥æ•°å­—å¼€å¤´çš„å±æ€§åï¼‰ï¼Œå°±åªèƒ½é€šè¿‡æ–¹æ‹¬å·æ ‡è®°è®¿é—®ã€‚è¿™ä¸ªæ ‡è®°æ³•åœ¨å±æ€§åç§°æ˜¯åŠ¨æ€åˆ¤å®šï¼ˆå±æ€§ååªæœ‰åˆ°è¿è¡Œæ—¶æ‰èƒ½åˆ¤å®šï¼‰æ—¶éå¸¸æœ‰ç”¨

```js
var myObj = new Object()
var obj2 = new Object()
var str = 'string'
var rdm = Math.random()

myObj[obj2] = 'object'
myObj[str] = 'string'
myObj[rdm] = 'random number'
myObj[''] = 'empty'
```

### æšä¸¾å¯¹è±¡çš„æ‰€æœ‰å±æ€§

`for...in` å¾ªç¯
è¯¥æ–¹æ³•ä¾æ¬¡è®¿é—®ä¸€ä¸ªå¯¹è±¡åŠå…¶åŸå‹é“¾ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§

`Object.keys(obj)`
è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ `obj` è‡ªèº«åŒ…å«ï¼ˆä¸åŒ…æ‹¬åŸå‹ä¸­ï¼‰çš„æ‰€æœ‰å±æ€§çš„åç§°çš„æ•°ç»„ã€‚

`Object.getOwnPropertyNames(obj)`
è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†å¯¹è±¡ `obj` æ‰€æœ‰æ‹¥æœ‰çš„å±æ€§ï¼ˆæ— è®ºæ˜¯å¦å¯æšä¸¾ï¼‰çš„åç§°

éå†è®¿é—®å¯¹è±¡çš„æ‰€æœ‰å±æ€§
åœ¨ ECMAScript 5 ä¹‹å‰ï¼Œæ²¡æœ‰åŸç”Ÿçš„æ–¹æ³•æšä¸¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚ç„¶è€Œï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡½æ•°å®Œæˆ

```js
function listAllProperties(o) {
  var objectToInspect
  var result = []

  for (
    objectToInspect = o;
    objectToInspect !== null;
    objectToInspect = Object.getPrototypeOf(objectToInspect)
  ) {
    result = result.concat(Object.getOwnPropertyNames(objectToInspect))
  }

  return result
}
```

### åˆ›å»ºå¯¹è±¡

ä½¿ç”¨å¯¹è±¡åˆå§‹åŒ–å™¨

```js
var obj = {
  name: 'helloman',
  2: 'number',
  [2 + 3]: '5555',
  job: 'web developer'
}

var myHonda = {
  color: 'red',
  wheels: 4,
  engine: {
    cylinders: 4,
    size: 2.2
  }
}
```

### ä½¿ç”¨æ„é€ å‡½æ•°

```js
function Car(make, model, color) {
  this.make = make
  this.model = model
  this.color = color
}

var myCar = new Car('bill', 'Talon tsi', 1990)
```

ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼å¯ä»¥æ˜¯å¦å¤–ä¸€ä¸ªå¯¹è±¡

```js
function Person(name, age, job) {
  this.name = name
  this.age = age
  this.job = job
}

var foo = new Person('geo', 30, 'teacher')
var bar = new Person('lucy', 23, 'dancer')

function Car(make, model, year, owner) {
  this.make = make
  this.model = model
  this.year = year
  this.owner = owner
}

var car1 = new Car('eagle', 'Talon', 1992, foo)
var car2 = new Car('Nisson', 'BMW', 1900, bar)
```

Object.create()æ–¹æ³•

å¯¹è±¡ä¹Ÿå¯ä»¥ç”¨ Object.create() æ–¹æ³•åˆ›å»ºã€‚è¯¥æ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ä½ ä¸ºåˆ›å»ºçš„å¯¹è±¡é€‰æ‹©å…¶åŸå‹å¯¹è±¡ï¼Œè€Œä¸ç”¨å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚

```js
var Animal = {
  type: 'Mammals',
  displayType: function() {
    console.log(this.type)
  }
}

var dog = Object.create(Animal)
dog.displayType() // 'Mammals'

var fish = Object.create(Animal)
fish.type = 'Fishes'
fish.displayType() // Fishes
```

**å¯¹è±¡çš„ç»§æ‰¿**
æ‰€æœ‰çš„ JavaScript å¯¹è±¡ç»§æ‰¿äºè‡³å°‘ä¸€ä¸ªå¯¹è±¡ã€‚è¢«ç»§æ‰¿çš„å¯¹è±¡è¢«ç§°ä½œåŸå‹ï¼Œå¹¶ä¸”ç»§æ‰¿çš„å±æ€§å¯é€šè¿‡æ„é€ å‡½æ•°çš„ prototype å¯¹è±¡æ‰¾åˆ°

**å¯¹è±¡çš„å±æ€§ç´¢å¼•**
JavaScript 1.0 ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡åç§°æˆ–åºå·è®¿é—®ä¸€ä¸ªå±æ€§ã€‚ä½†æ˜¯åœ¨ JavaScript 1.1 åŠä¹‹åç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä½ æœ€åˆä½¿ç”¨åç§°å®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œåˆ™ä½ å¿…é¡»é€šè¿‡åç§°æ¥è®¿é—®å®ƒï¼›è€Œå¦‚æœä½ æœ€åˆä½¿ç”¨åºå·æ¥å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œåˆ™ä½ å¿…é¡»é€šè¿‡ç´¢å¼•æ¥è®¿é—®å®ƒã€‚

### å¯¹è±¡ä¸Šçš„å±æ€§

```js
Car.prototype.color = 'red'
myCar.color = 'green'
```

### å¯¹è±¡ä¸Šçš„æ–¹æ³•

```js
obj1.show = function() {
  console.log('show')
}

var obj2 = {
  show: function() {
    console.log('show')
  }
  hide() {
    console.log('hide')
  }
}

obj1.show()
obj2.hide()
```

### å¯¹è±¡ä¸­çš„`this`

å®šä¹‰`getters`ä¸`setters`

```js
var d = Date.prototype
Object.defineProperty(d, 'year', {
  get: function() {
    return this.getFullYear()
  },
  set: function(val) {
    this.setFullYear(val)
  }
})

var o = {
  a: 1,
  get b() {
    return this.a + 1
  },
  set c(x) {
    this.a = x / 2
  }
}
```

ä½¿ç”¨ Object.defineProperties çš„æ–¹æ³•ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å¯¹ä¸€ä¸ªå·²åˆ›å»ºçš„å¯¹è±¡åœ¨ä»»ä½•æ—¶å€™ä¸ºå…¶æ·»åŠ  getter æˆ– setter æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ æƒ³å®šä¹‰ getter æˆ– setter æ–¹æ³•çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„å±æ€§åç”¨ä½œ getter æˆ– setter çš„åå­—ï¼Œå±æ€§åå¯¹åº”çš„å±æ€§å€¼ç”¨ä½œå®šä¹‰ getter æˆ– setter æ–¹æ³•çš„å‡½æ•°ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­å®šä¹‰äº†å’Œå‰é¢ä¾‹å­ä¸€æ ·çš„ getter å’Œ setter æ–¹æ³•

```js
var o = { a: 1 }
Object.defineProperties(o, {
  b: {
    get: function() {
      return this.a + 1
    }
  },
  c: {
    set: function(x) {
      this.a = x / 2
    }
  }
})
```

### åˆ é™¤å±æ€§

```js
var obj = new Object()

obj.a = 1
obj.b = 2

delete obj.a
```

å¦‚æœä¸€ä¸ªå…¨å±€å˜é‡ä¸æ˜¯ç”¨ var å…³é”®å­—å£°æ˜çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ delete åˆ é™¤å®ƒ

```js
g = 'global'
delete g
```

**æ¯”è¾ƒå¯¹è±¡**
åœ¨ JavaScript ä¸­ objects æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ã€‚ä¸¤ä¸ªç‹¬ç«‹å£°æ˜çš„å¯¹è±¡æ°¸è¿œä¹Ÿä¸ä¼šç›¸ç­‰ï¼Œå³ä½¿ä»–ä»¬æœ‰ç›¸åŒçš„å±æ€§ï¼Œåªæœ‰åœ¨æ¯”è¾ƒä¸€ä¸ªå¯¹è±¡å’Œè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œæ‰ä¼šè¿”å› true.

```js
var fruit = { name: 'apple' }
var fruitbear = { name: 'apple' }

fruit == fruitbear // false
fruit === fruitbear // false
```

ä¸¤ä¸ªå˜é‡, åŒä¸€ä¸ªå¯¹è±¡

```js
var fruit = { name: 'apple' }
var fruitbear = fruit

fruit == fruitbear // true
fruit === fruitbear // true
```

**å¯¹è±¡çš„å±æ€§**
æ·»åŠ å±æ€§
åœ¨ JavaScript ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨è¿è¡Œæ—¶ä¸ºä»»ä½•å¯¹è±¡æ·»åŠ å±æ€§ï¼Œè€Œä¸å¿…å—é™äºæ„é€ å™¨å‡½æ•°æä¾›çš„å±æ€§ã€‚æ·»åŠ ç‰¹å®šäºæŸä¸ªå¯¹è±¡çš„å±æ€§ï¼Œåªéœ€è¦ä¸ºè¯¥å¯¹è±¡æŒ‡å®šä¸€ä¸ªå±æ€§å€¼

```js
var mark = new WorkerBee()
mark.name = 'Doe, Mark'
mark.dept = 'admin'
mark.projects = ['navigator']

mark.bonus = 1000
```

è¿™æ · mark å¯¹è±¡å°±æœ‰äº† bonus å±æ€§ï¼Œè€Œå…¶å®ƒ WorkerBee åˆ™æ²¡æœ‰è¯¥å±æ€§

## ç±»`Class`

### æ„é€ å‡½æ•° Constructor

```js
class CoolGuy {
  specialTrick = nothing

  CoolGuy(trick) {
    specialTrick = trick
  }

  showOff() {
    output("Here's my trick", specialTrick)
  }
}

var John = new CoolGuy('bmw')
John.showOff()
```

### ç±»çš„ç»§æ‰¿

```js
// äº¤é€šå·¥å…·ç±»
class Vehicle {
  engine = 1

  ignition() {
    output('turning on my engine')
  }

  drive() {
    ignition()
    output('Steering and moving forward')
  }
}

// æ±½è½¦ç±»
class Car inherits Vehicle {
  wheels = 4

  drive() {
    inherited: drive()
    output('Rolling on all', wheels, 'whells')
  }
}

// æ¸¸èˆ¹ç±»
class SpeedBoat inherits Vehicle {
  engines = 2

  ignition() {
    output('truning on my', engines, 'engines')
  }

  pilot() {
    inherited: drive()
    output('Speeding through the water with ease')
  }
}
```

æ±½è½¦ä¸æ¸¸èˆ¹éƒ½å±äºäº¤é€šå·¥å…·ç±»ï¼ŒåŒæ—¶éƒ½æœ‰å¼•æ“ï¼Œæ±½è½¦å¯èƒ½åªæœ‰ 1 ä¸ªï¼Œè½®èˆ¹æœ‰å¯èƒ½æœ‰ 2 ä¸ªï¼Œè¿™æ˜¯ä¸åŒçš„åœ°æ–¹ï¼Œä½†å®ƒä»¬å…±åŒçš„åœ°æ–¹æ˜¯ï¼Œå¼€åŠ¨ä¹‹å‰éƒ½éœ€è¦å…ˆå‘åŠ¨å¼•æ“ï¼Œè¿˜æœ‰ drive æ˜¯æ‰€æœ‰äº¤é€šç±»éƒ½æœ‰çš„ï¼Œæ‰€ä»¥å•ç‹¬å‡ºæ¥ï¼Œä½œä¸ºçˆ¶ç±»ï¼Œè®©å…¶ä»–äº¤é€šå·¥å…·ç±»æ¥ç»§æ‰¿ã€‚

javascript çš„ç±»æ˜¯ ES6 æ‰å…·æœ‰çš„ï¼Œåœ¨æ­¤å‰çš„ç‰ˆæœ¬æ ¹æœ¬æ²¡æœ‰ç±»çš„è¯´æ³•ï¼Œé‚£æ€ä¹ˆæ ·èƒ½å®ç°ç»§æ‰¿å‘¢ï¼Ÿ
ç”¨æ‹·è´çš„æ–¹å¼æ¥å®ç°ç±»ä¼¼ç»§æ‰¿çš„æ•ˆæœã€‚

```js
function mixin(sourceObj, targetObj) {
  for (var key in sourceObj) {
    if (!(key in targetObj)) {
      targetObj[key] = sourceObj[key]
    }
  }

  return targetObj
}

var Vehicle = {
  engines: 1,
  ignition: function() {
    console.log('å‘åŠ¨å¼•æ“')
  },
  drive: function() {
    this.ignition()
    console.log('é©¾é©¶å‰è¿›')
  }
}

var Car = mixin(Vehicle, {
  wheels: 4,
  drive: function() {
    Vehicle.drive.call(this)
    console.log('å¼€ç€' + whells + 'ä¸ªè½®å­çš„æ±½è½¦')
  }
})
```

### å¯„ç”Ÿç»§æ‰¿

```js
// ä¼ ç»Ÿé¢å‘å¯¹è±¡çš„å†™æ³•
function Vehicle() {
  this.engines = 1
}

Vehicle.prototype.ignition = function() {
  console.log('å‘åŠ¨æˆ‘çš„å¼•æ“')
}

Vehicle.prototype.drive = function() {
  this.ignition()
  console.log('é©¾é©¶å‰è¿›')
}

function Car() {
  var car = new Vehicle()

  car.wheels = 4

  var vehDrive = car.drive

  car.drive = function() {
    vehDrive.call(this)
    console.log('é©¾é©¶ç€æˆ‘çš„' + this.wheels + 'ä¸ªè½®å­çš„æ±½è½¦')
  }

  return car
}

var myCar = new Car()
myCar.drive()
```

### éšç§ç»§æ‰¿

```js
var Soldier = {
  count: function() {
    this.name = 'æˆ‘çš„ä¸€åå£«å…µ'
    this.number = this.number ? this.number + 1 : 1
  }
}

Soldier.count()
Soldier.name
Soldier.number // 1

var Another = {
  count: function() {
    Soldier.count.call(this)
  }
}

Another.count()
Another.name
Another.number // 1
```

## This

this è°è°ƒç”¨å®ƒï¼Œå®ƒå°±æŒ‡å‘è°ã€‚
è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯¹è±¡ blue å’Œ green ä½¿ç”¨äº†[call](http://ykpine.net/coding/call.md) æ–¹æ³•ï¼Œcolor()æ–¹æ³•ï¼Œå› ä¸º blue å’Œ green æœ¬èº«å¹¶æ²¡æœ‰ color()æ–¹æ³•ã€‚
ä¹Ÿå¯ä»¥ç†è§£ä¸º color()è¿™ä¸ªå‡½æ•°ï¼Œå°† this æŒ‡å‘äº† blue å’Œ green å¯¹è±¡ï¼Œè¿™æ—¶å€™å‡½æ•°é‡Œçš„ this å°±æ˜¯æŒ‡å‘çš„å¯¹è±¡ï¼Œå¯¹è±¡é‡Œé¢æœ‰ name å±æ€§

showColor() æ–¹æ³•ä¹Ÿæ˜¯è°ƒç”¨äº†[call](http://ykpine.net/coding/call.md) æ–¹æ³•ï¼Œå‡½æ•°ä½“å†…çš„ this æŒ‡å‘å°±æ˜¯ blue å’Œ green å¯¹è±¡æœ¬èº«ã€‚å¯¹è±¡åˆå€ŸåŠ© call è°ƒç”¨ color()æ–¹æ³•ï¼Œå°† this ä¼ ç»™å¯¹è±¡ã€‚

```js
function color() {
  return this.name
}

function showColor() {
  var hobby = 'æˆ‘å–œæ¬¢çš„é¢œè‰²æ˜¯ï¼š' + color.call(this)

  console.log(hobby)
}

var blue = {
  name: 'è“è‰²'
}

var green = {
  name: 'ç»¿è‰²'
}

color.call(blue) // è“è‰²
color.call(green) // ç»¿è‰²

showColor.call(blue) // æˆ‘å–œæ¬¢çš„é¢œè‰²æ˜¯ï¼šè“è‰²
showColor.call(green) // æˆ‘å–œæ¬¢çš„é¢œè‰²æ˜¯ï¼šç»¿è‰²
```

é€šè¿‡ä¸Šä¸‹æ–‡çš„æ–¹å¼å°†å¯¹è±¡ä¼ é€’

```js
function color(context) {
  return context.name
}

function showColor(context) {
  var hobby = 'æˆ‘å–œæ¬¢çš„é¢œè‰²æ˜¯ï¼š' + color.call(context)

  console.log(hobby)
}

var blue = {
  name: 'è“è‰²'
}

var green = {
  name: 'ç»¿è‰²'
}

color(blue) // è“è‰²
color(green) // ç»¿è‰²
```

```js
function count(num) {
  console.log('timer=>' + num)
  this.timer++
}
count.timer = 0

for (var i = 0; i < 5; i++) {
  count(i) // è°ƒç”¨äº†5æ¬¡
}

console.log(count.timer) // 0
```

ä¸Šé¢è¿™æ®µä»£ç ï¼Œcount åœ¨ for å¾ªç¯é‡Œè¢«æ‰§è¡Œäº† 5 æ¬¡ï¼Œä½†æœ€å timer çš„å€¼è¿˜æ˜¯ 0ï¼Œå¹¶æ²¡æœ‰è¢«æ”¹å˜ã€‚
count å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œthis æŒ‡å‘æ˜¯ windowï¼Œä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œåœ¨ for å¾ªç¯é‡Œçš„ä»£ç æ˜¯ window.count(i), é‚£å‡½æ•°é‡Œçš„ this æŒ‡å‘å°±æ˜¯ window,ç„¶è€Œ window ä¸‹å¹¶æ—  timer çš„å˜é‡ï¼Œæ‰€ä»¥æ‰“å°çš„ count.timer æ˜¯åˆå§‹å®šä¹‰çš„å€¼ï¼Œæ‰€ä»¥æ˜¯ 0

```js
function count(num) {
  console.log('count ' + num)
  obj.timer++
}

var obj = {
  timer: 0
}

for (var i = 0; i < 5; i++) {
  count(i)
}

console.log(obj.timer) // 5
```

```js
function count(num) {
  console.log('count ' + num)
  count.timer++
}

count.timer = 0

for (var i = 0; i < 5; i++) {
  count(i)
}

console.log(count.timer) // 5
```

å¦‚æœä»£ç æ¢æˆè¿™æ ·ï¼Œæ˜¯ä¸æ˜¯èƒ½å°±æ›´å¥½çš„ç†è§£äº†ï¼Ÿ
ç°åœ¨åœ¨æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­

```js
function count(num) {
  console.log('count ' + num)
  this.timer++
}

count.timer = 0

for (var i = 0; i < 5; i++) {
  count.call(count, i)
}

console.log(count.timer) // 5
```

è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨ callï¼Œæ¥ä¿®æ”¹ this æŒ‡å‘ï¼Œå°† count å‡½æ•°é‡Œçš„ this æŒ‡å‘ count è‡ªå·±æœ¬èº«ï¼Œcount.timer åˆå§‹å€¼å®šä¹‰äº† 0ï¼Œå¾ªç¯äº†å‡ æ¬¡è‡ªç„¶å°±è‡ªå¢äº†å‡ æ¬¡ï¼Œæ‰€ä»¥å¾—åˆ°çš„å€¼ä¸º 5

æœ‰äº†ä¸Šé¢è¿™å‡ ä¸ªä¾‹å­ï¼Œå¯¹ this æŒ‡å‘æ˜¯å¦å·²ç»æœ‰æ‰€ç†è§£äº†å‘¢ï¼Ÿ

```js
function foo() {
  var num = 10
  this.baz()
}

function baz() {
  console.log(this.num)
}

foo() // è¯·ç»™å‡ºè¿™é‡Œç­”æ¡ˆ
```

é»˜è®¤æƒ…å†µä¸‹

```js
function foo() {
  console.log(this.num)
}

var num = 666

foo() // 666
```

ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis çš„èŒƒå›´åªåœ¨å½“å‰å‡½æ•°ä½“å†…

```js
function foo() {
  'use strict'
  console.log(this.num)
}
var num = 666

foo() // TypeError: Cannot read property 'num' of undefined
```

```js
function foo() {
  console.log(his.num)
}

var num = 666(function() {
  'use strict'

  foo() // 666
})()
```

è‡ªæ‰§è¡Œå‡½æ•°å†…å®šä¹‰äº†ä¸¥æ ¼æ¨¡å¼ï¼Œä½†è°ƒç”¨äº†éä¸¥æ ¼æ¨¡å¼ä¸‹çš„å‡½æ•°ï¼Œè¿™æ ·å¯¹å‡½æ•°å¹¶ä¸èµ·ä½œç”¨ï¼Œä½†è¿™æ ·çš„å†™æ³•å¹¶æ— æ„ä¹‰

```js
function foo() {
  console.log(this.num)
}

var obj = {
  num: 8,
  foo: foo
}

obj.foo() // 8
```

foo å‡½æ•°è¢« obj å¯¹è±¡å¼•ç”¨äº†ï¼Œæ­¤æ—¶ foo é‡Œé¢çš„ this éšå¼çš„ç»‘å®šäº† obj

```js
function foo() {
  console.log(this.num)
}

var bar = {
  num: 8,
  foo: foo
}

var obj = {
  num: 666,
  bar: bar
}

obj.bar.foo() // 8
```

```js
function foo(num) {
  console.log(this.num)
}

var obj = {
  num: 8,
  foo: foo
}

var bar = obj.foo // ç­‰åŒä¸ var bar = foo
var num = 2

bar() // ç­‰åŒä¸ window.bar()  2
```

å‡½æ•°ä½“å†…è°ƒç”¨æ‰§è¡Œçš„æ–¹æ³•ï¼Œthis æŒ‡å‘éƒ½æ˜¯ window

```js
function foo() {
  console.log(this.num)
}

function doFoo(fn) {
  fn()
}
var obj = {
  num: 2,
  foo: foo
}
var num = 'i am not num'

doFoo(obj.foo) // i am not num
```

å®šæ—¶å™¨å†…æ‰§è¡Œçš„å‡½æ•° this æŒ‡å‘ä¹Ÿæ˜¯ window

```js
function foo() {
  console.log(this.num)
}

var obj = {
  num: 2,
  foo: foo
}
var num = 'i am not num'

setTimeout(obj.foo, 1000) // i am not num
```

ä½¿ç”¨ call æ¥æ”¹å˜ this æŒ‡å‘

```js
function foo() {
  console.log(this.num)
}

var obj = {
  num: 10
}

var bar = function() {
  foo.call(obj)
}

bar() // 10
setTimeout(bar, 1000) // 10
bar.call(window) // 10
```

é€šè¿‡ä½¿ç”¨ call æ–¹æ³•åï¼Œä¸ç®¡å“ªç§æ–¹å¼è°ƒç”¨ï¼Œéƒ½èƒ½ä¿è¯ foo å‡½æ•°å†…çš„ this æŒ‡å‘ obj

```js
function foo(sth) {
  console.log(this.a, sth)
  return this.a + sth
}

var obj = {
  a: 2
}

var bar = function() {
  return foo.apply(obj, arguments)
}

var b = bar(6) // 2, 6
console.log(b) // 8
```

å¦å¤–ä¸€ç§ç»‘å®šæ–¹å¼ï¼Œå®è¡Œå‡½æ•°å¤ç”¨

```js
var bind = function(fn, obj) {
  return function() {
    return fn.apply(obj, arguments)
  }
}

function foo(sth) {
  console.log(this.a, sth)
  return this.a + sth
}

var obj = {
  a: 2
}

var bar = bind(foo, obj)
var b = bar(6) // 2 6
console.log(b) // 8
```

Function åŸå‹çš„ bind æ¥ç»‘å®šå¯¹è±¡

```js
function foo(sth) {
  console.log(this.a, sth)
  return this.a + sth
}

var obj = {
  a: 2
}

var bar = foo.bind(obj)
var b = bar(6) // 2 6
console.log(b) // 8
```

```js
function foo(el) {
  console.log(el, this.id)
}

var obj = {
  id: 'hello'
}[(4, 5, 6)].forEach(foo, obj) // 4 hello 5 hello 6 hello
```

```js
function foo(a) {
  this.a = a
}

var bar = new foo(2) // ç›¸å½“äº b å¼•ç”¨æ¥ foo = {a: 2}
console.log(bar.a) // 2
```

```js
function foo() {
  console.log(this.a)
}

var obj1 = {
  a: 2,
  foo: foo
}

var obj2 = {
  a: 6,
  foo: foo
}

obj1.foo() // 2
obj2.foo() // 6

obj1.foo.call(obj2) // 6
obj2.foo.call(obj1) // 2
```

```js
function foo(sth) {
  this.a = sth
}

var obj = {
  foo: foo
}

var obj2 = {}

obj.foo(2)
console.log(obj.a) // 5

obj.foo.call(obj2, 3)
console.log(obj2.a) // 3

var baz = new obj.foo(4) // bar = foo => {a: 4}
console.log(obj.a) // 2
console.log(bar.a) // 4
```

```js
function foo(sth) {
  this.a = sth
}

var obj = {
  foo: foo
}

var bar = foo.bind(obj)
bar(2)
console.log(obj.a) // 2

var baz = new bar(3)
console.log(obj.a) // 2
console.log(baz.a) // 3
```

å¦‚æœå¯¹è±¡é€šè¿‡ä½¿ç”¨ new å…³é”®å­—åˆ›å»ºå‡ºæ¥çš„è¯ï¼Œthis æŒ‡å‘å°±æ˜¯å‡½æ•°æœ¬èº«

```js
var bar = new foo() // this => foo
```

å¦‚æœå¯¹è±¡é€šè¿‡ call æˆ–è€… apply å…³é”®å­—æ˜¾å¼ç»‘å®šå¯¹è±¡çš„è¯ï¼Œthis æŒ‡å‘å°±æ˜¯ç»‘å®šçš„å¯¹è±¡

```js
var bar = foo.call(obj) // this => obj
```

å¦‚æœå¯¹è±¡é€šè¿‡ context ä¸Šä¸‹æ–‡æ¥éšå¼ç»‘å®šå¯¹è±¡çš„è¯ï¼Œthis æŒ‡å‘å°±æ˜¯ context ä¸Šä¸‹æ–‡çš„å¯¹è±¡

```js
var bar = foo.call(obj) // this => obj
```

å¦‚æœå¯¹è±¡æ²¡æœ‰ä½¿ç”¨ newã€callã€apply å…³é”®å­—ï¼Œä¹Ÿæ²¡æœ‰é€šè¿‡ context ä¸Šä¸‹æ–‡ä¼ å‚ï¼Œåœ¨é(strict)ä¸¥æ ¼æ¨¡å¼ä¸‹ this æŒ‡å‘å°±æ˜¯å…¨å±€å¯¹è±¡ windowï¼Œå¦‚æœåœ¨(strict)ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis ä¸º undefined

```js
var bar = foo() // this => window
```

å¦‚æœé€šè¿‡ call å…³é”®å­—æ¥ç»‘å®šå¯¹è±¡ nullã€window ã€undefined çš„è¯ï¼Œè¿™äº›å€¼ä¼šè¢«å¿½ç•¥æ‰çš„

```js
function foo() {
  console.log(this.a)
}

var a = 10

foo.call(null) // 10
foo.call(window) // 10
foo.call(undefined) // 10
```

é€šè¿‡ç»‘å®š null å…³é”®å­—æ¥æŒ‡å®šå¯¹è±¡ï¼Œè™½ç„¶è¢«å¿½ç•¥æ‰ï¼Œä½†ç»å¸¸è¢«ç”¨æ¥ä¼ é€’å¤šä¸ªæˆ–ä¸ç¡®å®šå‚æ•°æ—¶æ¥ä½¿ç”¨

```js
function foo(a, b) {
  console.log('a:' + a + ',b:' + b)
}

foo.apply(null, [6, 7]) // a: 6 b: 7
var bar = foo.bind(null, 8) // a
bar(9) // 9
```

```js
function foo() {
  console.log(this.a)
}

var a = 10
var obj = { a: 20, foo: foo }
var bar = { a: 30 }

foo() // 10
foo.call(obj)(
  // 20
  (bar.foo = obj.foo)
)() // 20
```

ä¸Šé¢è¿™æ®µä»£ç ä¸­çš„ bar.foo = obj.foo æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¹è±¡å¼•ç”¨æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªå †æ ˆï¼Œå¹¶ä¸ä¼šæ”¹å˜å€¼

åœ¨ es6 çš„ç®­å¤´å‡½æ•°é‡Œï¼Œthis æŒ‡å‘éƒ½æ˜¯å½“å‰å‡½æ•°éƒ½ä½œç”¨åŸŸå†…

```js
function foo() {
  return a => {
    console.log(this.a)
  }
}

var obj1 = {
  a: 10
}

var obj2 = {
  a: 20
}

var bar = foo.call(obj1)
bar.call(obj2) // 10
```

foo å‡½æ•°å€Ÿç”¨ call å°† this æŒ‡å‘äº† obj1ï¼Œfoo å‡½æ•°è¿”å›äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå› ä¸ºè¿”å›éƒ½å‡½æ•°æ˜¯ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°å†…çš„ this æ˜¯ä¸å…è®¸è¦†ç›–çš„ï¼Œæ‰€ä»¥å¾—åˆ°çš„å€¼æ˜¯ 10ï¼Œè€Œä¸æ˜¯ 20

```js
function foo() {
  setTimeout(() => {
    console.log(this.a)
  }, 200)
}

var obj = {
  a: 10
}

foo.call(obj) // 10
```

å½“ç®­å¤´å‡½æ•°åœ¨å®šæ—¶å™¨é‡Œä½¿ç”¨ï¼Œthis æŒ‡å‘ä¾ç„¶è¿˜æ˜¯ foo, æ‰€ä»¥å¾—åˆ°çš„å€¼æ˜¯ 10ï¼Œè€Œä¸æ˜¯ undefined
