(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{299:function(t,i,s){var n=s(12);n(n.P,"Array",{fill:s(300)}),s(111)("fill")},300:function(t,i,s){"use strict";var n=s(62),o=s(110),r=s(25);t.exports=function(t){for(var i=n(this),s=r(i.length),h=arguments.length,a=o(h>1?arguments[1]:void 0,s),e=h>2?arguments[2]:void 0,c=void 0===e?s:o(e,s);c>a;)i[a++]=t;return i}},414:function(t,i,s){"use strict";s.r(i);s(299);var n={name:"canvasChess",data:function(){return{ctx:null,canvas:null,me:!0,chessBoard:[],wins:[],myWin:[],computWin:[],count:0,over:!1,text:"开始"}},mounted:function(){var t=this,i=document.querySelector("#chess");this.ctx=i.getContext("2d"),this.ctx.strokeStyle="#d9d9d9",this.init(),i.onclick=function(i){t.playChess(i)},this.canvas=i},methods:{start:function(){this.over&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.over=!1,this.chessBoard=[],this.wins=[],this.myWin=[],this.computWin=[],this.coutn=0,this.me=!0,this.init())},init:function(){this.initWinerArr(),this.initChessBoardArr(),this.winFunRow(),this.winFunCol(),this.winFunLT2RB(),this.winFunRT2LB(),this.initPlayData(),this.loadBgImage()},loadBgImage:function(){var t=this,i=new Image;i.src="http://cdn.ykpine.com/image/coding.jpeg",i.onload=function(){t.ctx.drawImage(i,150,150,150,150),t.drawChess()}},initChessBoardArr:function(){for(var t=0;t<15;t++){this.chessBoard[t]=[];for(var i=0;i<15;i++)this.chessBoard[t][i]=0}},initWinerArr:function(){for(var t=0;t<15;t++){this.wins[t]=[];for(var i=0;i<15;i++)this.wins[t][i]=[]}},initPlayData:function(){for(var t=0;t<this.count;t++)this.myWin[t]=0,this.computWin[t]=0},winFunRow:function(){for(var t=0;t<15;t++)for(var i=0;i<11;i++){for(var s=0;s<5;s++)this.wins[t][i+s][this.count]=!0;this.count++}},winFunCol:function(){for(var t=0;t<15;t++)for(var i=0;i<11;i++){for(var s=0;s<5;s++)this.wins[i+s][t][this.count]=!0;this.count++}},winFunLT2RB:function(){for(var t=0;t<11;t++)for(var i=0;i<11;i++){for(var s=0;s<5;s++)this.wins[t+s][i+s][this.count]=!0;this.count++}},winFunRT2LB:function(){for(var t=0;t<11;t++)for(var i=14;i>3;i--){for(var s=0;s<5;s++)this.wins[t+s][i-s][this.count]=!0;this.count++}},drawChess:function(){var t=this.ctx;t.beginPath();for(var i=0;i<15;i++)t.moveTo(15+30*i,15),t.lineTo(15+30*i,435),t.stroke(),t.moveTo(15,15+30*i),t.lineTo(435,15+30*i),t.stroke()},drawChessBorad:function(t,i,s){var n=this.ctx;n.beginPath(),n.arc(15+30*t,15+30*i,12,0,2*Math.PI),n.closePath();var o=n.createRadialGradient(15+30*t,15+30*i,20,15+30*t,15+30*i,0);s?(o.addColorStop(0,"#000"),o.addColorStop(1,"#ddd")):(o.addColorStop(0,"#d9d9d9"),o.addColorStop(1,"#f9f9f9")),n.fillStyle=o,n.fill()},computerAI:function(){for(var t=this,i=this.myWin,s=this.computWin,n=[],o=[],r=0,h=0,a=0,e=0;e<15;e++){n[e]=[],o[e]=[];for(var c=0;c<15;c++)n[e][c]=0,o[e][c]=0}for(var u=0;u<15;u++)for(var f=0;f<15;f++){if(0===this.chessBoard[u][f])for(var v=0;v<this.count;v++)this.wins[u][f][v]&&(1===i[v]?n[u][f]+=200:2===i[v]?n[u][f]+=400:3===i[v]?n[u][f]+=1e3:4===i[v]?n[u][f]+=2e3:5===i[v]&&(n[u][f]+=1e4),1===s[v]?o[u][f]+=210:2===s[v]?o[u][f]+=410:3===s[v]?o[u][f]+=1100:4===s[v]?o[u][f]+=2100:5===s[v]&&(o[u][f]+=2e4));n[u][f]>r?(r=n[u][f],h=u,a=f):n[u][f]===r&&o[u][f]>o[h][a]&&(h=u,a=f),o[u][f]>r?(r=o[u][f],h=u,a=f):o[u][f]===r&&n[u][f]>n[h][a]&&(h=u,a=f)}this.drawChessBorad(h,a,!1),this.chessBoard[h][a]=2;for(var d=0;d<this.count;d++)this.wins[h][a][d]&&(s[d]++,i[d]=6,5===s[d]&&(setTimeout(function(){window.alert("Computer Win!"),t.text="再来一次"},1e3),this.over=!0));this.over||(this.me=!this.me)},playChess:function(t){var i=this;if(!this.over&&this.me){var s=t.offsetX,n=t.offsetY,o=Math.floor(s/30),r=Math.floor(n/30);if(0===this.chessBoard[o][r]){this.drawChessBorad(o,r,this.me),this.chessBoard[o][r]=1;for(var h=0;h<this.count;h++)this.wins[o][r][h]&&(this.myWin[h]++,this.computWin[h]=6,5===this.myWin[h]&&(setTimeout(function(){window.alert("You Win!"),i.text="再来一次"},1e3),this.over=!0));this.over||(this.me=!this.me,this.computerAI())}}}}},o=s(0),r=Object(o.a)(n,function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"snippet-wrap"},[this._m(0),this._m(1),i("div",{staticClass:"row"},[i("button",{attrs:{type:"button"},on:{click:this.start}},[this._v(this._s(this.text))])])])},[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"top-title"},[i("h2",[this._v("五子棋")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"row"},[i("canvas",{attrs:{id:"chess",width:"450",height:"450"}})])}],!1,null,null,null);i.default=r.exports}}]);