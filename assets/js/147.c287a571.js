(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{492:function(s,a,t){"use strict";t.r(a);var r=t(0),e=Object(r.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[s._v("#")]),s._v(" mongodb")]),s._v(" "),t("h2",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install","aria-hidden":"true"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("h3",{attrs:{id:"macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#macos","aria-hidden":"true"}},[s._v("#")]),s._v(" MacOS")]),s._v(" "),t("ul",[t("li",[s._v("方式一： homebrew 安装")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("brew update\nbrew install mongodb\n")])])]),t("p",[s._v("安装目录在"),t("code",[s._v("/usr/local/Celler/mongodb/3.6.3/")])]),s._v(" "),t("h3",{attrs:{id:"ubuntu上安装mongodb-3-4版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu上安装mongodb-3-4版本","aria-hidden":"true"}},[s._v("#")]),s._v(" ubuntu上安装MongoDB(3.4版本)")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.mongodb.com/v3.4/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("直达飞机"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("key adv "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("keyserver hkp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("keyserver"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("recv "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("C49F3730359A14518585931BC711F9BA15703C6\n")])])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb [ arch=amd64 ] http://mirros.aliyun.com/mongodb/atp/ubuntu trusty/mongodb-org/3.4 multiverse"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sudo tee "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sources"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("list\n")])])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" update\n")])])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" install "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org\n")])])]),t("p",[s._v("如果安装很慢的话，可以修改镜像源来解决下载慢的问题")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo vi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n")])])]),t("p",[s._v("修改mongodb 源配置文件的镜像源为aliyun")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo vi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sources"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("list\n")])])]),t("p",[s._v("添加阿里云镜像源")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mirros"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aliyun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("atp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ubuntu trusty"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),s._v("\n")])])]),t("h2",{attrs:{id:"use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#use","aria-hidden":"true"}},[s._v("#")]),s._v(" Use")]),s._v(" "),t("p",[s._v("新建一个存放数据的目录")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo mkdir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("db\n")])])]),t("p",[s._v("添加环境变量到"),t("code",[s._v("~/.bash_profile")]),s._v(" 中, 用"),t("code",[s._v("vim")]),s._v(" 或者其他编辑器打开"),t("code",[s._v(".bash_profile")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("vim "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n")])])]),t("p",[s._v("写入以下命令")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Cellar"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[t("code",[s._v("mongodb/3.6.3/")]),s._v(" 是mongodb的版本")]),s._v(" "),t("p",[s._v("让配置马上生效")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("source "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n")])])]),t("p",[s._v("修改"),t("code",[s._v("mongodb")]),s._v("配置文件")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# Store data "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb instead "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" the "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("db\ndbpath "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("db\n\n# Append logs to "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log\nlogpath "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log\nlogappend "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n\n\n# Only accept local connections\nbind_ip "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n")])])]),t("p",[s._v("修改"),t("code",[s._v("/data/db")]),s._v("的权限")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo chmod "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("db\n")])])]),t("p",[s._v("启动"),t("code",[s._v("mongodb")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongod\n")])])]),t("p",[s._v("进入数据库")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo\n")])])]),t("h2",{attrs:{id:"启动与停止"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动与停止","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动与停止")]),s._v(" "),t("p",[s._v("启动MongoDB")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo service mongod start\n")])])]),t("p",[s._v("停止MongoDB")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo service mongod stop\n")])])]),t("p",[s._v("重启MongoDB")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo service mongod restart\n")])])]),t("p",[s._v("卸载MongoDB")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo service mongod stop\n\nsudo apt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),s._v(" purge mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\nsudo rm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb\n\nsudo rm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb\n")])])]),t("p",[s._v("查看启动状态")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("cat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log\n")])])]),t("p",[s._v("进入数据库")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo\n")])])]),t("p",[s._v("如果出现下面的错误")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("Failed global initialization"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" BadValue Invalid or no user locale "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Please ensure "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LANG")]),s._v(" and"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("or "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LC_")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" environment variables are "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" correctly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),t("p",[s._v("在命令行输入")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LC_ALL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("C")]),s._v("\n")])])]),t("p",[s._v("修改MongoDB默认端口号")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo vi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n")])])]),t("p",[s._v("修改port为其他端口号, 修改后，启动方式为")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v("\n")])])]),t("h3",{attrs:{id:"mongodb数据导入导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb数据导入导出","aria-hidden":"true"}},[s._v("#")]),s._v(" MongoDB数据导入导出")]),s._v(" "),t("p",[s._v("导出数据库数据\n-h 数据库的ip地址与端口号\n-d 数据库名字\n-o 导出的数据名字\n-u 数据库密码")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongodump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("数据库名字"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("数据库密码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("导出后的数据库名字"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("导出的数据库先压缩一下，然通过scp上传到服务器")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("tar zcvf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("压缩后文件名字"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("需压缩文件名字"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nscp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("端口号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" username@ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dbbackup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])])]),t("p",[s._v("登录到服务器后，解压刚上传的tar包")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("tar xvf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("tar包"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("接下来导入数据\n-d 是要导入数据的数据库名字")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongorestore "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("host "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("要导入"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("要导入的数据的文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("上面是导出整个数据的操作，如果只需要到出某张表的话\n-d movie 数据库名字\n-c users 指定数据库的表名字\n-q 查询参数\n-o ./movie-users.json 导出的文件名称和位置")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongoexport "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d movie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c users "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\"name\": $ne: null }'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("movie"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n")])])]),t("p",[s._v("导入表单\n-d movie 数据库的名字\n-c users 数据库的表名 ./movie-users.json 导入的文件")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongoimport "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("host "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d movie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c users "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("movie"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n")])])]),t("p",[s._v("清空某个数据库\nmovie 是数据库名字")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("host "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v(" movie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("eval "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"db.dropDatabase()"')]),s._v("\n")])])]),t("h3",{attrs:{id:"配置管理员账户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置管理员账户","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置管理员账户")]),s._v(" "),t("ol",[t("li",[s._v("切换到管理员账户，创建一个新管理员")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("use admin\n\ndb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  pwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  roles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    role"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'userAdminAnyDatabase'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("ol",[t("li",[s._v("授权")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("auth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("如果返回1则说明成功")]),s._v(" "),t("h3",{attrs:{id:"为某个数据库配置管理员"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为某个数据库配置管理员","aria-hidden":"true"}},[s._v("#")]),s._v(" 为某个数据库配置管理员")]),s._v(" "),t("ol",[t("li",[s._v("先切换到管理员账户")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("user admin\n\ndb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("auth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nuser 数据库名字\n\ndb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  pwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  roles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    role"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'readWrite'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'数据库名字'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("可以在建立一个备份的管理员账户，只拥有读到权限\n添加完成后，修改一下配置信息")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo vi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mongod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n")])])]),t("p",[s._v("修改的地方")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("security\n  authorization"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'enabled'")]),s._v("\n")])])]),t("ol",[t("li",[s._v("重启MongoDB")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo service mongod restart\n")])])]),t("ol",[t("li",[s._v("进入数据库")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v("\n")])])]),t("ol",[t("li",[s._v("先登录管理员账户")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("use admin\n\ndb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("auth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h4",{attrs:{id:"直接登录某个数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直接登录某个数据库","aria-hidden":"true"}},[s._v("#")]),s._v(" 直接登录某个数据库")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mongo "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("imooc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("movie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'username'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),s._v("\n")])])]),t("h3",{attrs:{id:"数据库备份"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库备份","aria-hidden":"true"}},[s._v("#")]),s._v(" 数据库备份")]),s._v(" "),t("p",[s._v("1.建立一个脚本")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("mkdir tasks "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" cd tasks\nsudo vim movie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("backup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n")])])]),t("p",[s._v("2.编辑脚本执行操作到命令")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("#"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sh\n\nbackUpFolder"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("imooc_manage"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("backup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("movie\ndate_now"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("`date + %Y_%m_%d_%H%M`")])]),s._v("\nbackFileName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" movie_$date_noe\n\ncd $backUpFolder\nmkdir "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p $backFileName\n\nmongodump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19999")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d 数据库 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u 用户名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 密码 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o $backFileName\n\ntar acvf $backFileName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz $backFileName\n\nrm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rf $backFileName\n")])])]),t("p",[s._v("3.执行脚本")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("sudo sh "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tasks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("movie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("backup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n")])])]),t("p",[s._v("4.定时备份")]),s._v(" "),t("p",[s._v("切换到根目录")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("cd\n")])])]),t("p",[s._v("进入系统配置文件")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("crontab "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e\n")])])]),t("p",[s._v("命令可用写入多条，每条单独一行")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("m     h     dom     mon     dow     command\n分钟  小时     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("        sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("yk_manage"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tasks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("movie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("backup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n")])])])])},[],!1,null,null,null);a.default=e.exports}}]);